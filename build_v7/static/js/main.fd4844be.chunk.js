(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,t,a){e.exports=a.p+"static/media/instant_information.7da78e06.svg"},132:function(e,t,a){e.exports=a.p+"static/media/completed_steps.315809f6.svg"},156:function(e,t,a){e.exports=a(188)},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=a(2),i=a(18),s=a(245),u=a(280),m=a(244),d=a(237),p=a(94),f=a.n(p),b=a(95),E=a.n(b),g=a(239),h=Object(n.createContext)();function v(e){var t=e.children,a={managerController:Object(n.useState)({})};return r.a.createElement(h.Provider,{value:a},t)}var j=a(236),O=a(272),y=a(5),C=Object(y.a)({root:{color:"#22ACF0"}})((function(e){var t=e.children,a=e.className,n=Object(i.a)(e,["children","className"]);return r.a.createElement(j.a,{className:a,control:r.a.createElement(O.a,Object.assign({color:"default"},n)),label:t})})),x=a(238),w=a(275),N=function(e){var t=e.open,a=e.type,n=e.children,c=Object(i.a)(e,["open","type","children"]);return r.a.createElement(x.a,Object.assign({in:t},c),r.a.createElement(w.a,{variant:"filled",severity:a},n))},k=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},S=function(e){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+$/g.test(String(e).toLowerCase())},T=function(e,t){return!(e.length<t)&&!(e.split(" ").length<2)},_=a(19),F=a(7),A=a.n(F),P=a(58),q=a.n(P),I=q.a.create({baseURL:"http://joinsoft.com.br/coinspect/api/"}),W=0,D=10,B="success",R=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/managers/login.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},L=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/assessments/store.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},Q=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/questionnaires/store.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},z=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/websites/store.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},M=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/assessments/tasks.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},Y=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/tasks/pages.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},H=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/assessments/evaluators.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},U=function(e){return new Promise((function(t,a){var n,r,c;return A.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=q.a.CancelToken.source(),o.prev=1,o.next=4,A.a.awrap(I.post("/evaluators/search.php",Object(_.a)({},e,{cancelToken:n.token})));case 4:r=o.sent,(c=r.data).status===B?t(c.docs):a(c.docs),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),q.a.isCancel(o.t0)?a({id:D,detail:"Canceled by token"}):a({id:W,detail:"Error on load designers"});case 12:case"end":return o.stop()}}),null,null,[[1,9]])}))},V=function(e){return new Promise((function(t,a){var n,r,c;return A.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=q.a.CancelToken.source(),o.prev=1,o.next=4,A.a.awrap(I.post("/designers/search.php",Object(_.a)({},e,{cancelToken:n.token})));case 4:r=o.sent,(c=r.data).status===B?t(c.docs):a(c.docs),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),q.a.isCancel(o.t0)?a({id:D,detail:"Canceled by token"}):a({id:W,detail:"Error on load designers"});case 12:case"end":return o.stop()}}),null,null,[[1,9]])}))},G=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/managers/questionnaires.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},J=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/managers/assessments.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},$=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/managers/websites.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},K=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/websites/tasks.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},Z=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/questionnaires/questions.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},X=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/profiles/evaluators.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},ee=function(){return new Promise((function(e,t){var a,n;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.a.awrap(I.post("/profiles/index.php"));case 2:a=r.sent,(n=a.data).status===B?e(n.docs):t(n.docs);case 5:case"end":return r.stop()}}))}))},te=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/questionnaires/duplicate.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a({id:1,detail:"Error on duplicate questionnaire"});case 5:case"end":return c.stop()}}))}))},ae=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/questionnaires/show.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},ne=function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/tasks/pages_user.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))},re=function(e){return a=8,n=32,(t=e).length>=a&&t.length<=n;var t,a,n},ce=function(e){var t=e.selected,a=e.children,n=Object(i.a)(e,["selected","children"]),c=Object(g.a)((function(e){return{tab:{fontSize:16,backgroundColor:t?"#FFFFFF":"transparent",cursor:"pointer",padding:e.spacing(2,4,2,2),color:e.palette.grey[700],marginTop:e.spacing(2),borderRadius:e.spacing(2,0,0,2),transition:"background-color .3s","&:hover":{backgroundColor:"white"}}}}))();return r.a.createElement("span",Object.assign({className:c.tab},n),a)},oe=Object(g.a)((function(e){return{title:{color:"#22ACF0",fontSize:36},form:{width:"80%"},textfield:{margin:e.spacing(2,0)},actions:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1)},action:{color:"#22ACF0",textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}},button:{backgroundColor:"#22ACF0",border:"none",borderRadius:32,color:"white",padding:e.spacing(3),marginTop:e.spacing(2),width:"100%",cursor:"pointer",fontSize:18,transition:"all .3s ease-in-out",outline:"none","&:hover":{transform:"scale(1.05)"}}}})),le=function(e){var t=e.handleRegisterDisplay,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!0),p=Object(l.a)(s,2),b=p[0],g=p[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),O=j[0],y=j[1],x=Object(n.useState)(""),w=Object(l.a)(x,2),S=w[0],T=w[1],_=Object(n.useState)([]),F=Object(l.a)(_,2),A=F[0],P=F[1],q=Object(n.useContext)(h).managerController,I=Object(l.a)(q,2),D=I[0],B=I[1],L=oe();return r.a.createElement("form",{className:L.form},r.a.createElement("span",{className:L.title},"Co-Inspect Tool"),r.a.createElement(u.a,{id:"email",required:!0,className:L.textfield,label:"Email",value:O,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&y(t)}}),r.a.createElement(u.a,{id:"password",required:!0,className:L.textfield,label:"Password",type:o?"text":"password",InputProps:{endAdornment:r.a.createElement(m.a,{position:"end"},r.a.createElement(d.a,{onClick:function(){i((function(e){return!e}))}},o?r.a.createElement(f.a,null):r.a.createElement(E.a,null)))},value:S,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=32&&T(t)}}),r.a.createElement("span",{onClick:function(){return alert("WIP")},className:L.action},"Forgot password?"),r.a.createElement(N,{type:"error",open:A.length>0,style:{marginTop:8}},A.join(".\n")),r.a.createElement("button",{onClick:function(e){e.preventDefault(),function(){var e=[];return k(O)||e.push("Please enter a valid email"),re(S)||e.push("Please enter a password between 8 to 32 characters"),P(e),0===e.length}()&&R({email:O,password:S}).then((function(e){b&&localStorage.setItem("manager_data",JSON.stringify({email:e.email,password:e.password})),D.id!==e.id&&B(e)})).catch((function(e){Number(e.id)===W?alert("error"):P([e.detail])})).finally((function(){}))},className:L.button},"Login"),r.a.createElement("div",{className:L.actions},r.a.createElement(C,{onChange:function(e){var t=e.target.checked;g(t)},checked:b},"Remember me"),r.a.createElement("span",{onClick:t,className:L.action},"Not registered yet?")))},ie=function(e){var t=e.handleLoginDisplay,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!0),p=Object(l.a)(s,2),b=p[0],g=p[1],v=Object(n.useState)(""),j=Object(l.a)(v,2),O=j[0],y=j[1],x=Object(n.useState)(""),w=Object(l.a)(x,2),S=w[0],_=w[1],F=Object(n.useState)(""),P=Object(l.a)(F,2),q=P[0],D=P[1],R=Object(n.useState)([]),L=Object(l.a)(R,2),Q=L[0],z=L[1],M=Object(n.useContext)(h).managerController,Y=Object(l.a)(M,2),H=Y[0],U=Y[1],V=oe();return r.a.createElement("form",{className:V.form},r.a.createElement("span",{className:V.title},"Co-Inspect Tool"),r.a.createElement(u.a,{id:"name",required:!0,className:V.textfield,label:"Name",value:O,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&y(t)}}),r.a.createElement(u.a,{id:"email",required:!0,className:V.textfield,label:"Email",value:S,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&_(t)}}),r.a.createElement(u.a,{id:"password",required:!0,className:V.textfield,label:"Password",type:o?"text":"password",InputProps:{endAdornment:r.a.createElement(m.a,{position:"end"},r.a.createElement(d.a,{onClick:function(){i((function(e){return!e}))}},o?r.a.createElement(f.a,null):r.a.createElement(E.a,null)))},value:q,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=32&&D(t)}}),r.a.createElement(N,{type:"error",open:Q.length>0,style:{marginTop:8}},Q.join(".\n")),r.a.createElement("button",{onClick:function(e){var t;e.preventDefault(),function(){var e=[];return T(O)||e.push("Please enter first and last name"),k(S)||e.push("Please enter a valid email"),re(q)||e.push("Please enter a password between 8 to 32 characters"),z(e),0===e.length}()&&(t={name:O,email:S,password:q},new Promise((function(e,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/managers/store.php",t));case 2:n=c.sent,(r=n.data).status===B?e(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))).then((function(e){b&&localStorage.setItem("manager_data",JSON.stringify({email:e.email,password:e.password})),H.id!==e.id&&U(e)})).catch((function(e){Number(e.id)===W?alert("error"):z([e.detail])})).finally((function(){}))},className:V.button},"Register"),r.a.createElement("div",{className:V.actions},r.a.createElement(C,{onChange:function(e){var t=e.target.checked;g(t)},checked:b},"Remember me"),r.a.createElement("span",{onClick:t,className:V.action},"Already registered?")))};function se(){var e=Object(g.a)((function(e){return{container:{maxHeight:"100vh"},blue:{justifyContent:"space-between",backgroundColor:"#22ACF0",color:"#FFFFFF",display:"flex",height:"100vh"},white:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFFFFF"},welcome:{marginLeft:e.spacing(8),fontWeight:"lighter",alignSelf:"center",fontSize:24},tabs:{display:"flex",flexDirection:"column",marginTop:e.spacing(4)}}})),t=Object(n.useState)("login"),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useContext)(h).managerController,u=Object(l.a)(i,2),m=u[0],d=u[1],p=function(){"login"!==c&&o("login")},f=function(){"register"!==c&&o("register")};Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("manager_data"));e&&e.email&&e.password&&R(e).then((function(e){d(e)})).catch((function(e){Number(e.id)===W?alert("error"):alert(e.detail)})).finally((function(){}))}),[m,d]);var b=e();return r.a.createElement(s.a,{className:b.container,container:!0},r.a.createElement(s.a,{className:b.blue,item:!0,sm:12,md:8},r.a.createElement("div",{className:b.welcome},r.a.createElement("span",{style:{fontSize:22}},"Welcome to"),r.a.createElement("h1",null,"Co-Inspect Tool"),r.a.createElement("p",{style:{fontSize:18}},"A computerized tool designed to support usability assessments of web sites using checklists and which aims to present quantitative results about the usability characteristics of the web site with a focus on monitoring environments for biodiversity, climate change and seasonal diseases.")),r.a.createElement("div",{className:b.tabs},r.a.createElement(ce,{onClick:p,selected:"login"===c},"Login"),r.a.createElement(ce,{onClick:f,selected:"register"===c},"Register"))),r.a.createElement(s.a,{className:b.white,item:!0,sm:12,md:4},"login"===c?r.a.createElement(le,{handleRegisterDisplay:f}):r.a.createElement(ie,{handleLoginDisplay:p})))}var ue=Object(n.createContext)();function me(e){var t=e.children,a={questionnaireController:Object(n.useState)({})};return r.a.createElement(ue.Provider,{value:a},t)}var de=a(249),pe=a(277),fe=a(246),be=a(247),Ee=a(248),ge=a(27),he=a.n(ge),ve=a(51),je=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(i.a)(e,["children","classes","onClose"]);return r.a.createElement(fe.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(ve.a,{variant:"h6"},t),n?r.a.createElement(d.a,{className:a.closeButton,onClick:n},r.a.createElement(he.a,null)):null)})),Oe=Object(y.a)((function(e){return{root:{padding:e.spacing(2)}}}))(be.a),ye=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ee.a);function Ce(e){var t=e.open,a=e.handleClose,c=Object(n.useContext)(ue).questionnaireController,o=Object(l.a)(c,2),i=o[0],s=o[1],m=Object(n.useContext)(h).managerController,d=Object(l.a)(m,1)[0],p=Object(n.useState)(""),f=Object(l.a)(p,2),b=f[0],E=f[1],g=Object(n.useState)(""),v=Object(l.a)(g,2),j=v[0],O=v[1],y=Object(n.useState)([]),C=Object(l.a)(y,2),N=C[0],k=C[1];return r.a.createElement(pe.a,{onClose:a,open:t,fullWidth:!0},r.a.createElement(je,{onClose:a},"Add Questionnaire"),r.a.createElement(Oe,{dividers:!0},i.id&&r.a.createElement(w.a,{variant:"filled",severity:"warning",style:{marginBottom:10}},'Make sure the changes to the website "',i.name,'" have been saved'),r.a.createElement(x.a,{in:N.length>0},r.a.createElement(w.a,{variant:"filled",severity:"error"},N.join(", "))),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Questionnaire Name "),r.a.createElement(u.a,{id:"name",label:"ex: USP Questionnaire",variant:"outlined",value:b,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&E(t)}}),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Questionnaire Detail "),r.a.createElement(u.a,{id:"detail",label:"ex: Questionnaire Detail",variant:"outlined",type:"detail",value:j,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=300&&O(t)}})),r.a.createElement(ye,null,r.a.createElement(de.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(de.a,{autoFocus:!0,color:"primary",onClick:function(){(function(){var e=[];return function(e){return e.length>=3}(b)||e.push("Please enter a name with at least 3 characters"),k(e),0===e.length})()&&Q({name:b,detail:j,manager_id:Number(d.id)}).then((function(e){s(e)})).catch((function(e){Number(e.id)===W?alert("error"):alert(e.detail)})).finally((function(){a(),E(""),O("")}))}},"Add Questionnaire")))}var xe=a(243),we=a(191),Ne=a(250),ke=a(251),Se=a(252),Te=a(287),_e=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(i.a)(e,["children","classes","onClose"]);return r.a.createElement(fe.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(ve.a,{variant:"h6",noWrap:!0},t),n?r.a.createElement(d.a,{className:a.closeButton,onClick:n},r.a.createElement(he.a,null)):null)})),Fe=Object(y.a)((function(e){return{root:{padding:e.spacing(2)}}}))(be.a),Ae=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ee.a);function Pe(e){var t=e.handleClose,a=e.title,n=e.children,c=e.submit,o=e.submitText,l=e.maxWidth,i=Object(g.a)((function(e){return{content:{maxHeight:"80vh",overFlowY:"auto"}}}))();return r.a.createElement(pe.a,{open:!0,fullWidth:!0,onClose:t,maxWidth:l||"lg"},r.a.createElement(_e,{onClose:t},a),r.a.createElement(Fe,{className:i.content,dividers:!0},n),r.a.createElement(Ae,null,r.a.createElement(de.a,{onClick:t,color:"primary"},"Cancel"),c&&r.a.createElement(de.a,{autoFocus:!0,color:"primary",onClick:c},o||"submit")))}function qe(e){var t=e.handleClose,a=e.questionnaire;return r.a.createElement(Pe,{title:a.name+" - The questionnaire is being used by an evaluation",handleClose:t,fullWidth:!0})}var Ie=function(e){var t=e.questionnaire,a=Object(n.useContext)(ue).questionnaireController,c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement(we.a,{button:!0,onClick:function(){i(t)},selected:t===o},r.a.createElement(Ne.a,{primary:t.name,secondary:t.detail}))},We=function(e){var t=e.questionnaire,a=Object(n.useContext)(ue).questionnaireController,c=Object(l.a)(a,1)[0],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{button:!0,onClick:function(){u(!0)},selected:t.id===c.id},r.a.createElement(Ne.a,{primary:t.name,secondary:t.detail})),s&&r.a.createElement(qe,{questionnaire:t,handleClose:function(){u(!1)}}))},De=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){c(!0)};return r.a.createElement("div",null,r.a.createElement(we.a,{button:!0,onClick:o},r.a.createElement(Ne.a,{primary:"Add new questionnaire",secondary:"Click here to add a new questionnaire"}),r.a.createElement(ke.a,null,r.a.createElement(d.a,{edge:"end",onClick:o},r.a.createElement(Te.a,null)))),a&&r.a.createElement(Ce,{open:!0,handleClose:function(){c(!1)}}))};function Be(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(n.useContext)(ue).questionnaireController,d=Object(l.a)(m,1)[0],p=Object(n.useContext)(h).managerController,f=Object(l.a)(p,1)[0];return Object(n.useEffect)((function(){G({manager_id:Number(f.id)}).then((function(e){c(e.available),u(e.unavailable)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questionnaires")}))}),[d,f]),r.a.createElement(xe.a,{component:"nav",style:{height:635,overflowY:"auto"}},r.a.createElement(De,null),a.map((function(e){return r.a.createElement(Ie,{key:e.id,questionnaire:e})})),a.length>0&&s.length>0&&r.a.createElement(Se.a,{component:"li"}),s.map((function(e){return r.a.createElement(We,{key:e.id,questionnaire:e})})))}var Re=a(87),Le=a.n(Re),Qe=a(256),ze=a(139),Me=a(258),Ye=a(257),He=a(15),Ue=a(279),Ve=a(255),Ge=a(273),Je=a(253),$e=a(282),Ke=a(242),Ze=Object(n.createContext)();function Xe(e){var t=e.children,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){!function(){var e,t;A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(I.post("/answer_types/index.php"));case 2:e=a.sent,"success"===(t=e.data).status?i(t.docs):alert("Error on load answer types");case 5:case"end":return a.stop()}}))}(),function(){var e,t;A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(I.post("/criteria/index.php"));case 2:e=a.sent,"success"===(t=e.data).status?d(t.docs):alert("Error on load criteria");case 5:case"end":return a.stop()}}))}()}),[]);var p={answerTypes:o,criteria:m};return r.a.createElement(Ze.Provider,{value:p},t)}var et=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(i.a)(e,["children","classes","onClose"]);return r.a.createElement(fe.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(ve.a,{variant:"h6"},t),n?r.a.createElement(d.a,{className:a.closeButton,onClick:n},r.a.createElement(he.a,null)):null)})),tt=Object(y.a)((function(e){return{root:{padding:e.spacing(2)}}}))(be.a),at=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ee.a),nt=function(e){var t=e.question,a=e.answerTypes,c=e.addQuestion,o=e.removeQuestion,i=Object(g.a)((function(e){return{container:{backgroundColor:e.palette.primary.light,padding:e.spacing(1,2),marginBottom:e.spacing(1),borderRadius:"4px",width:"100%"},formControl:{width:"100%"},elements:{display:"flex",flexDirection:"column",width:"100%"},element:{width:"100%",cursor:"pointer",marginTop:e.spacing(1),padding:e.spacing(1.5),backgroundColor:e.palette.primary.light,borderRadius:"8px",transition:"background-color .2s","&:hover":{backgroundColor:e.palette.secondary.main}}}})),u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(1),b=Object(l.a)(f,2),E=b[0],h=b[1];Object(n.useEffect)((function(){d&&c(Object(_.a)({},t,{answerType:E}))}),[E]);var v=i();return r.a.createElement("div",{className:v.container},r.a.createElement(j.a,{control:r.a.createElement(O.a,{checked:d,onChange:function(e){var a=e.target.checked;a?c(Object(_.a)({},t,{answerType:E})):o(t),p(a)},color:"secondary"}),label:t.criterion}),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:8},r.a.createElement(ve.a,{variant:"subtitle1",component:"p"},t.text)),r.a.createElement(s.a,{item:!0,sm:4},r.a.createElement(Ke.a,{className:v.formControl},r.a.createElement($e.a,{id:"Answer-Type"},"Answer Type"),r.a.createElement(Ge.a,{labelId:"Answer-Type",color:"secondary",value:E,onChange:function(e){var a=e.target.value;o(t),h(a)}},a.map((function(e,t){return r.a.createElement(Je.a,{key:t,value:e.id},e.name)})))),r.a.createElement("div",{className:v.elements},t.element_1_id&&r.a.createElement(ve.a,{className:v.element},t.element_1),t.element_2_id&&r.a.createElement(ve.a,{className:v.element},t.element_2)))))};function rt(e){var t=e.open,a=e.handleClose,c=e.oldQuestions,o=Object(g.a)((function(e){return{content:{maxHeight:"80vh",overFlowY:"auto"}}})),i=Object(n.useContext)(ue).questionnaireController,s=Object(l.a)(i,1)[0],m=Object(n.useContext)(Ze),d=m.answerTypes,p=m.criteria,f=Object(n.useState)([]),b=Object(l.a)(f,2),E=b[0],h=b[1],v=Object(n.useState)([]),j=Object(l.a)(v,2),O=j[0],y=j[1],C=function(e,t){var a=t.map((function(e){return e.id}));return e.filter((function(e){return!a.includes(e.id)}))},x=function(e){e&&function(e){var t,a;A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.awrap(I.post("/criteria/questions.php",{id:Number(e)}));case 2:t=n.sent,"success"===(a=t.data).status?h(C(a.docs,c)):alert("Error on load questions");case 5:case"end":return n.stop()}}))}(e.id)},w=function(e){y([].concat(Object(He.a)(O),[e]))},N=function(e){y(Object(He.a)(O.filter((function(t){var a=t.id;return e.id!==a}))))},k=o();return r.a.createElement(pe.a,{onClose:a,open:t,fullWidth:!0},r.a.createElement(et,{onClose:a},"Add Question"),r.a.createElement(tt,{className:k.content,dividers:!0},r.a.createElement(ve.a,{gutterBottom:!0}," Criterion Name "),r.a.createElement(Ue.a,{autoHighlight:!0,options:p,getOptionLabel:function(e){return e.name},onChange:function(e,t){return x(t)},style:{width:"100%"},renderInput:function(e){return r.a.createElement(u.a,Object.assign({},e,{label:"Criterion Name",variant:"outlined"}))}}),r.a.createElement(Ve.a,{style:{marginTop:8}},E.map((function(e,t){return r.a.createElement(nt,{key:t,question:e,answerTypes:d,addQuestion:w,removeQuestion:N})})))),r.a.createElement(at,null,r.a.createElement(de.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(de.a,{autoFocus:!0,color:"primary",onClick:function(){var e;return A.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==O.length){t.next=3;break}return a(),t.abrupt("return");case 3:return t.next=5,A.a.awrap(I.post("questionnaires/sync.php",{id:Number(s.id),attach:O.map((function(e){return{id:Number(e.id),answer_type_id:Number(e.answerType)}})),detach:[]}));case 5:e=t.sent,"success"===e.data.status?a():alert("Error question add");case 8:case"end":return t.stop()}}))}},"Add Questions")))}var ct=a(71),ot=a.n(ct);function lt(e){var t=e.question,a=e.handleClose,c=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},secondaryAction:{padding:e.spacing(2),color:e.palette.success.dark,cursor:"pointer"}}})),o=Object(n.useContext)(Ze).answerTypes,i=Object(n.useContext)(ue).questionnaireController,s=Object(l.a)(i,1)[0],u=function(e){var n;t.answer_type_id!==e.id?(n={question_id:Number(t.id),questionnaire_id:Number(s.id),answer_type_id:Number(e.id)},new Promise((function(e,t){var a,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/answer_types/update.php",n));case 2:a=c.sent,"success"===(r=a.data).status?e(r.docs):t("Error on change answer type");case 5:case"end":return c.stop()}}))}))).then((function(e){})).catch((function(e){alert(e)})).finally((function(){a()})):a()},m=c();return r.a.createElement(Pe,{title:"Change Answer Type",submitText:"Change Answer Type",handleClose:a,submit:a,maxWidth:"md"},r.a.createElement(xe.a,{className:m.root},o.map((function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(we.a,{button:!0,onClick:function(){return u(e)},alignItems:"flex-start"},r.a.createElement(Ne.a,{primary:e.name,secondary:" \u2014 "+e.detail}),t.answer_type_id===e.id&&r.a.createElement(ke.a,{className:m.secondaryAction},r.a.createElement(ot.a,null))),a<o.length-1&&r.a.createElement(Se.a,{component:"li"}))}))))}function it(e){var t=e.handleClose,a=Object(n.useContext)(ue).questionnaireController,c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(o.name+" - copy"),m=Object(l.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(o.detail),b=Object(l.a)(f,2),E=b[0],g=b[1],h=Object(n.useState)([]),v=Object(l.a)(h,2),j=v[0],O=v[1];return r.a.createElement(Pe,{title:'Duplicate Questionnaire "'.concat(o.name,'"'),submitText:"Duplicate Questionnaire",handleClose:t,submit:function(){(function(){var e=[];return function(e){return e.length>=3}(d)||e.push("Please enter a name with at least 3 characters"),O(e),0===e.length})()&&te({id:Number(o.id),name:d,detail:E}).then((function(e){i(e)})).catch((function(e){alert(e.detail)})).finally((function(){t()}))},maxWidth:"sm"},r.a.createElement(x.a,{in:j.length>0},r.a.createElement(w.a,{variant:"filled",severity:"error"},j.join(", "))),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Questionnaire Name "),r.a.createElement(u.a,{id:"name",label:"ex: USP Questionnaire",variant:"outlined",value:d,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&p(t)}}),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Questionnaire Detail "),r.a.createElement(u.a,{id:"detail",label:"ex: Questionnaire Detail",variant:"outlined",type:"detail",value:E,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=300&&g(t)}}))}var st=function(){var e=Object(g.a)((function(e){return{card:{margin:e.spacing(1,1,0,1),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},criterion:{backgroundColor:e.palette.primary.main,height:"100%"},question:{backgroundColor:e.palette.primary.light,height:"100%"},element:{backgroundColor:e.palette.primary.main,height:"100%"}}}))();return r.a.createElement(Qe.a,{className:e.card},r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:e.criterion},r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},"CRITERION"))),r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(Ye.a,{className:e.question},r.a.createElement(ve.a,{variant:"body1",component:"p",align:"center"},"QUESTION"))),r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:e.element},r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},"INTERACTION ELEMENTS"))),r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:e.element},r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},"ANSWER TYPE")))))},ut=function(e){var t=e.question,a=e.reload,c=Object(g.a)((function(e){return{card:{margin:e.spacing(1,1,0,1),color:e.palette.primary.contrastText},criterion:{backgroundColor:e.palette.primary.main,height:"100%"},question:{backgroundColor:e.palette.primary.light,height:"100%"},element:{backgroundColor:e.palette.primary.main,height:"100%"},actions:{backgroundColor:e.palette.primary.dark},remove:{backgroundColor:e.palette.remove.main,color:e.palette.remove.contrastText},change:{backgroundColor:e.palette.duplicate.main,color:e.palette.duplicate.contrastText}}})),o=Object(n.useContext)(ue).questionnaireController,i=Object(l.a)(o,1)[0],u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],p=m[1],f=c();return r.a.createElement("div",null,r.a.createElement(Qe.a,{className:f.card},r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:f.criterion},r.a.createElement(ve.a,{variant:"body2",component:"p"},t.criterion))),r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(Ye.a,{className:f.question},r.a.createElement(ve.a,{variant:"body1",component:"p"},t.text))),r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:f.element},r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},t.element_1),r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},t.element_2))),r.a.createElement(s.a,{item:!0,sm:2},r.a.createElement(Ye.a,{className:f.element},r.a.createElement(ve.a,{variant:"body2",component:"p",align:"center"},t.answer_type_name)))),r.a.createElement(Me.a,{className:f.actions},r.a.createElement(de.a,{onClick:function(){var e;return A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm('Remove question:"'.concat(t.text,'"'))){n.next=6;break}return n.next=3,A.a.awrap(I.post("questionnaires/sync.php",{id:Number(i.id),attach:[],detach:[Number(t.id)]}));case 3:e=n.sent,"success"===e.data.status?a():alert("Error question remove");case 6:case"end":return n.stop()}}))},className:f.remove},"Remove question"),r.a.createElement(de.a,{onClick:function(){p(!0)},className:f.change},"Change Answer Type"))),d&&r.a.createElement(lt,{question:t,handleClose:function(){p(!1),a()}}))},mt=function(e){var t=e.reload,a=e.questions,c=Object(g.a)((function(e){return{container:{display:"flex",alignItems:"center",color:e.palette.save.contrastText,backgroundColor:e.palette.save.main,padding:e.spacing(3),margin:e.spacing(1,0),cursor:"pointer"},icon:{width:"32px",height:"32px",marginRight:"8px"}}})),o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],m=c();return r.a.createElement("div",null,r.a.createElement(ze.a,{className:m.container,onClick:function(){u(!0)}},r.a.createElement(Te.a,{className:m.icon}),r.a.createElement(ve.a,{variant:"body1",component:"p",align:"center"},"Add questions to this questionnaire")),s&&r.a.createElement(rt,{open:!0,handleClose:function(){u(!1),t()},oldQuestions:a}))},dt=function(){var e=Object(g.a)((function(e){return{container:{display:"flex",alignItems:"center",margin:e.spacing(1,2)},save:{marginLeft:e.spacing(1),backgroundColor:e.palette.save.main,color:e.palette.save.contrastText},duplicate:{marginLeft:e.spacing(1),backgroundColor:e.palette.duplicate.main,color:e.palette.duplicate.contrastText},remove:{marginLeft:e.spacing(1),backgroundColor:e.palette.remove.main,color:e.palette.remove.contrastText}}})),t=Object(n.useContext)(ue).questionnaireController,a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(l.a)(i,2),u=s[0],m=s[1],d=e();return r.a.createElement("div",null,r.a.createElement("div",{className:d.container},r.a.createElement(de.a,{onClick:function(){m(!0)},className:d.duplicate,size:"large"},"Duplicate Questionnaire"),r.a.createElement(de.a,{onClick:function(){var e;return A.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm('Delete questionnaire "'.concat(c.name,'"'))){t.next=6;break}return t.next=3,A.a.awrap(I.post("questionnaires/delete.php",{id:Number(c.id)}));case 3:e=t.sent,"success"===e.data.status?o({}):alert("Error questionnaire delete");case 6:case"end":return t.stop()}}))},className:d.remove,size:"large"},"Delete Questionnaire")),u&&r.a.createElement(it,{handleClose:function(){m(!1)}}))};function pt(){var e=Object(g.a)((function(e){return{container:{height:"calc(100vh - 70px)",overflowY:"auto"},title:{padding:e.spacing(2),fontSize:"28px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between"}}})),t=Object(n.useContext)(ue).questionnaireController,a=Object(l.a)(t,1)[0],c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],s=o[1],u=function(e){var t,a;return A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.awrap(I.post("/questionnaires/questions.php",{id:Number(e)}));case 2:t=n.sent,"success"===(a=t.data).status?s(a.docs):alert("Error on load questions");case 5:case"end":return n.stop()}}))},m=function(){a.id&&u(a.id)};Object(n.useEffect)((function(){u(a.id)}),[a]);var d=e();return r.a.createElement(Xe,null,r.a.createElement("div",{className:d.container},r.a.createElement("div",{className:d.header},r.a.createElement(ve.a,{className:d.title,variant:"h5",noWrap:!0},a.name),r.a.createElement(dt,null)),r.a.createElement(st,null),i.map((function(e,t){return r.a.createElement(ut,{key:t,question:e,reload:m})})),r.a.createElement(mt,{reload:m,questions:i})))}function ft(){var e=Object(g.a)((function(e){return{container:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},title:{color:"#444"},svg:{maxHeight:"350px"},link:{color:e.palette.primary.main,cursor:"pointer","&:hover":{textDecoration:"underline"}}}})),t=Object(n.useContext)(ue).questionnaireController,a=Object(l.a)(t,1)[0],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],s=o[1],u=e();return a.id?r.a.createElement(pt,null):r.a.createElement("div",{className:u.container},r.a.createElement(ve.a,{className:u.title,variant:"h4"},"Select a questionnaire on the Left"),r.a.createElement("img",{className:u.svg,src:Le.a,alt:"Select some questionnaire"}),r.a.createElement(ve.a,{className:u.link,variant:"subtitle1",onClick:function(){s(!0)}},"Or Click here to add a New Questionnaire"),r.a.createElement(Ce,{open:i,handleClose:function(){s(!1)}}))}function bt(e){var t=e.classes;return r.a.createElement(me,null,r.a.createElement("div",{className:t.list},r.a.createElement(Be,null)),r.a.createElement("div",{className:t.content},r.a.createElement(ft,null)))}var Et=Object(n.createContext)();function gt(e){var t=e.children,a={currentAssessmentController:Object(n.useState)({}),viewController:Object(n.useState)("show")};return r.a.createElement(Et.Provider,{value:a},t)}var ht=function(e){var t=e.assessment,a=Object(n.useContext)(Et),c=a.currentAssessmentController,o=a.viewController,i=Object(l.a)(c,2),s=i[0],u=i[1],m=Object(l.a)(o,2),d=m[0],p=m[1];return r.a.createElement(we.a,{button:!0,onClick:function(){s!==t&&(u(t),"show"!==d&&p("show"))},selected:t.id===s.id},r.a.createElement(Ne.a,{primary:t.name,secondary:t.detail}))},vt=function(){var e=Object(n.useContext)(Et).viewController,t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){"create"!==a&&c("create")};return r.a.createElement(we.a,{button:!0,onClick:o},r.a.createElement(Ne.a,{primary:"Add new Evaluation",secondary:"Click here to add a new evaluation"}),r.a.createElement(ke.a,null,r.a.createElement(d.a,{edge:"end",onClick:o},r.a.createElement(Te.a,null))))};function jt(){var e=Object(n.useContext)(h).managerController,t=Object(l.a)(e,1)[0],a=Object(n.useContext)(Et).currentAssessmentController,c=Object(l.a)(a,1)[0],o=Object(n.useState)([]),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){J({manager_id:t.id}).then((function(e){u(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Evaluations")}))}),[t,c]),r.a.createElement(xe.a,{component:"nav"},r.a.createElement(vt,null),s.map((function(e){return r.a.createElement(ht,{key:e.id,assessment:e,button:!0})})))}var Ot=a(259),yt=a(284),Ct=a(125),xt=a.n(Ct),wt=a(124),Nt=a.n(wt),kt=Object(g.a)((function(e){return{listRoot:{width:"100%"},containerProfile:{display:"flex",flexDirection:"column",alignItems:"center"},personIcon:{margin:e.spacing(2,0),fontSize:"128px"}}})),St=function(e){var t=e.evaluator,a=kt();return r.a.createElement("div",{className:a.containerProfile},t.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(Nt.a,{className:a.personIcon}),r.a.createElement("div",null,r.a.createElement(ve.a,{variant:"h6"},t.name),r.a.createElement(ve.a,{variant:"subtitle1"},t.email)),r.a.createElement("hr",null)):r.a.createElement(ve.a,null,"Select some evaluator to view details"))};function Tt(){var e=Object(n.useContext)(Et).currentAssessmentController,t=Object(l.a)(e,1)[0],a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)({}),m=Object(l.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){t.id&&H({id:Number(t.id)}).then((function(e){i(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Evaluators")}))}),[t]),Object(n.useEffect)((function(){p({})}),[t]);var f=kt();return r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:5},r.a.createElement(xe.a,{className:f.root},o.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(we.a,{button:!0,onClick:function(){return function(e){p(e)}(e)}},r.a.createElement(Ot.a,null,r.a.createElement(yt.a,null,r.a.createElement(xt.a,null))),r.a.createElement(Ne.a,{primary:e.name,secondary:e.email})),t<o.length-1&&r.a.createElement(Se.a,{variant:"inset",component:"li"}))})))),r.a.createElement(s.a,{item:!0,sm:7},r.a.createElement(St,{evaluator:d})))}var _t=a(3),Ft=Object(g.a)((function(e){return{container:{background:"#FAFAFA",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.25)",borderRadius:"40px"}}}));function At(e){var t=e.children,a=e.className,n=Object(i.a)(e,["children","className"]),c=Ft();return r.a.createElement("div",Object.assign({className:Object(_t.a)(c.container,a)},n),t)}var Pt=Object(g.a)((function(e){return{container:{height:"100%"},content:{height:"100%",margin:e.spacing(0,2),padding:e.spacing(3)},header:{height:"75px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around"},title:{fontSize:"24px"},listContainer:{position:"relative",height:"calc(100% - 75px)"},list:{width:"100%",height:"100%",overflowY:"auto",position:"absolute",left:0,top:0}}}));function qt(){var e=Object(n.useContext)(Et).currentAssessmentController,t=Object(l.a)(e,1)[0],a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)([]),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)({}),b=Object(l.a)(f,2),E=b[0],g=b[1];Object(n.useEffect)((function(){t.questionnaire_id&&ae({id:Number(t.questionnaire_id)}).then((function(e){i(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questionnaire")}))}),[t]),Object(n.useEffect)((function(){o.id&&Z({id:Number(o.id)}).then((function(e){p(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questions")}))}),[o]),Object(n.useEffect)((function(){g({})}),[t]);var h=Pt();return r.a.createElement(s.a,{container:!0,className:h.container},r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(At,{className:h.content},r.a.createElement("div",{className:h.header},r.a.createElement(ve.a,{className:h.title},o.name)),r.a.createElement(Se.a,null),r.a.createElement("div",{className:h.listContainer},r.a.createElement(xe.a,{className:h.list},d.map((function(e){return r.a.createElement(we.a,{button:!0,key:e.id,selected:e.id===E.id,onClick:function(){return function(e){g(e)}(e)}},r.a.createElement(Ne.a,{primary:e.criterion,secondary:e.text}))})))))),r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(At,{className:h.content},r.a.createElement("div",{className:h.header},r.a.createElement(ve.a,{className:h.title},"Answers")),r.a.createElement(Se.a,null))))}var It=a(126),Wt=a(261),Dt=a(254),Bt=a(260),Rt=a(140),Lt=a(72),Qt=a.n(Lt),zt=a(96),Mt=a.n(zt),Yt=a(128),Ht=a.n(Yt),Ut=a(88),Vt=a.n(Ut),Gt=a(127),Jt=a.n(Gt),$t=Object(g.a)((function(e){return{container:{height:"100%"},content:{height:"100%",margin:e.spacing(0,2),padding:e.spacing(3)},header:{height:"75px",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around"},designerListContainer:{position:"relative",height:"calc(100% - 75px)"},evaluatorListContainer:{position:"relative",height:"calc(100% - 75px - 50px)"},list:{width:"100%",height:"100%",overflowY:"auto",position:"absolute",left:0,top:0},footer:{display:"flex",alignItems:"center",justifyContent:"space-around",height:"50px"},matchesButton:{backgroundColor:"#5D5",color:"#FFF"},doesnotMatchesButton:{backgroundColor:"#D55",color:"#FFF"}}})),Kt=Object(y.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{position:"relative",padding:"10px 26px 10px 12px",backgroundColor:"#FAFAFA",fontSize:"24px"}}}))(Rt.a),Zt=function(e,t){var a,n;return A.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=[],r.next=3,A.a.awrap(Z({id:Number(t.questionnaire_id)}).then((function(e){a=e})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load questions")})));case 3:return n={},a.forEach((function(t){e.forEach((function(e){e.element_1_id!=t.element_1_id&&e.element_2_id!=t.element_1_id&&e.element_3_id!=t.element_1_id&&e.element_4_id!=t.element_1_id&&e.element_5_id!=t.element_1_id&&e.element_1_id!=t.element_2_id&&e.element_2_id!=t.element_2_id&&e.element_3_id!=t.element_2_id&&e.element_4_id!=t.element_2_id&&e.element_5_id!=t.element_2_id||(n[t.id]=t)}))})),r.abrupt("return",Object.values(n));case 6:case"end":return r.stop()}}))},Xt=function(e){var t=e.handleCloseDialog,a=e.path,c=Object(n.useContext)(Et).currentAssessmentController,o=Object(l.a)(c,1)[0],i=Object(n.useState)([]),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(""),g=Object(l.a)(E,2),h=g[0],v=g[1];return Object(n.useEffect)((function(){!function(){var e;A.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.awrap(Zt(a,o));case 2:e=t.sent,v("Question_Text|Ergonomic_Criterion|Answer_Type|Interaction_Element_1|Interaction_Element_2\n".concat(e.map((function(e){return Object.values(e).filter((function(e,t){return t%2===1})).map((function(e){return e||"null"})).join("|")})).join("\n"))),m(e);case 5:case"end":return t.stop()}}))}()}),[]),r.a.createElement(Pe,{title:"Questions",submitText:"Questions genereted",handleClose:t,submit:t,maxWidth:"md"},r.a.createElement(It.CopyToClipboard,{text:h,onCopy:function(){return b(!0)}},r.a.createElement(Bt.a,{title:f?"This was Copied!":"Copy To Clipboard",placement:"top"},r.a.createElement(de.a,{size:"medium",fullWidth:!0},"Export to CSV"))),r.a.createElement(xe.a,null,u.map((function(e,t){return r.a.createElement(we.a,{key:t},r.a.createElement(Wt.a,null,r.a.createElement(Qt.a,null)),r.a.createElement(Ne.a,{primary:e.criterion,secondary:e.text}))}))))},ea=function(e){var t=e.task_id,a=e.evaluator_id,c=e.handleCloseDialog,o=Object(n.useContext)(Et).currentAssessmentController,i=Object(l.a)(o,1)[0],u=Object(n.useState)([]),m=Object(l.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),g=E[0],h=E[1],v=function(){var e;(e={id:Number(i.id)},new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/assessments/website.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))).then((function(e){(function(e){return new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/websites/pages.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))})({id:Number(e.id)}).then((function(e){f(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load pages")}))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load website")}))},j=function(e){h((function(t){return t.filter((function(t){return t.id!=e.id}))}))};return Object(n.useEffect)((function(){v()}),[]),r.a.createElement(Pe,{title:"User Route",submitText:"Define Route",handleClose:c,submit:function(){var e;(e={task_id:Number(t),evaluator_id:Number(a),pages:g.map((function(e){return Number(e.id)}))},new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e),c.next=3,A.a.awrap(I.post("/tasks/sync_user.php",e));case 3:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 6:case"end":return c.stop()}}))}))).then((function(e){alert("Ok!")})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load website")})).finally((function(){c()}))},maxWidth:"md"},r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(xe.a,null,p.map((function(e,t){return r.a.createElement(we.a,{onClick:function(){return t=e,void h((function(e){return[].concat(Object(He.a)(e),[t])}));var t},button:!0,key:t},r.a.createElement(Wt.a,null,r.a.createElement(Qt.a,null)),r.a.createElement(Ne.a,{primary:e.name,secondary:e.url}))})))),r.a.createElement(s.a,{item:!0,sm:6},g.map((function(e,t){return r.a.createElement(we.a,{onClick:function(){return j(e)},button:!0,key:t},r.a.createElement(Ne.a,{primary:e.name,secondary:e.url}),r.a.createElement(ke.a,null,r.a.createElement(d.a,{edge:"end",onClick:function(){return j(e)}},r.a.createElement(Jt.a,null))))})))))};function ta(){var e=Object(n.useContext)(Et).currentAssessmentController,t=Object(l.a)(e,1)[0],a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(l.a)(f,2),E=b[0],g=b[1],h=Object(n.useState)([]),v=Object(l.a)(h,2),j=v[0],O=v[1],y=Object(n.useState)(""),C=Object(l.a)(y,2),x=C[0],w=C[1],N=Object(n.useState)([]),k=Object(l.a)(N,2),S=k[0],T=k[1],F=Object(n.useState)(!1),A=Object(l.a)(F,2),P=A[0],q=A[1],I=Object(n.useState)(!1),D=Object(l.a)(I,2),B=D[0],R=D[1],L=function(){q(!0)};Object(n.useEffect)((function(){O([]),t.id&&H({id:Number(t.id)}).then((function(e){O(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Evaluators")}))}),[t]);var Q=function(){d&&x&&ne({task_id:Number(d),evaluator_id:x}).then((function(e){T(e.map((function(e){return Object(_.a)({},e,{id:e.page_id})})))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Evaluators")}))};Object(n.useEffect)((function(){Q()}),[d,x]),Object(n.useEffect)((function(){i([]),g([]),T([]),p(""),w(""),t.id&&M({id:Number(t.id)}).then((function(e){i(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questions")}))}),[t]);var z=function(){return S},U=$t();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:U.container},r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(At,{className:U.content},r.a.createElement("div",{className:U.header},r.a.createElement(Ge.a,{id:"select-task",fullWidth:!0,displayEmpty:!0,value:d,onChange:function(e){var t=e.target.value;t.length>0&&Y({task_id:t}).then((function(e){g(e.map((function(e){return Object(_.a)({},e,{id:e.page_id})})))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on Task Path")})).finally((function(){p(t)}))},input:r.a.createElement(Kt,null)},r.a.createElement(Je.a,{disabled:!0,value:""},r.a.createElement("em",null,"Select some task")),o.map((function(e){return r.a.createElement(Je.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Se.a,null),r.a.createElement("div",{className:U.designerListContainer},r.a.createElement(xe.a,{className:U.list,subheader:r.a.createElement(Dt.a,{component:"div",id:"list-subheader"},"Made by Bruno Contreras")},E.map((function(e,t){return r.a.createElement(we.a,{key:t},r.a.createElement(Wt.a,null,t<E.length-1?r.a.createElement(Qt.a,null):r.a.createElement(Mt.a,null)),r.a.createElement(Ne.a,{primary:e.name,secondary:e.url}))})))))),r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(At,{className:U.content},r.a.createElement("div",{className:U.header},r.a.createElement(Ge.a,{id:"select-evaluator",fullWidth:!0,displayEmpty:!0,value:x,onChange:function(e){var t=e.target.value;w(t)},input:r.a.createElement(Kt,null),renderValue:function(e){var t=j.find((function(t){return t.id===e}));return t?t.name:r.a.createElement("em",null,"Select some evaluator")}},r.a.createElement(Je.a,{disabled:!0,value:""},r.a.createElement("em",null,"Select some evaluator")),j.map((function(e){return r.a.createElement(Je.a,{key:e.id,value:e.id},r.a.createElement(Ne.a,{primary:e.name,secondary:e.email}),Math.random()<=.5?r.a.createElement(Wt.a,null,r.a.createElement(ot.a,{style:{color:"#7D7"}})):r.a.createElement(Wt.a,null,r.a.createElement(Ht.a,null)))})))),r.a.createElement(Se.a,null),r.a.createElement("div",{className:U.evaluatorListContainer},r.a.createElement(xe.a,{className:U.list},z().length>0?z().map((function(e,t){return r.a.createElement(we.a,{key:t},r.a.createElement(Wt.a,null,t<z().length-1?r.a.createElement(Qt.a,null):r.a.createElement(Mt.a,null)),r.a.createElement(Ne.a,{primary:e.name,secondary:e.url}))})):r.a.createElement(de.a,{size:"large",fullWidth:!0,onClick:function(){R(!0)}},"Add Route"))),r.a.createElement(Se.a,null),r.a.createElement("div",{className:U.footer},r.a.createElement(de.a,{variant:"contained",className:U.matchesButton,startIcon:r.a.createElement(ot.a,null),onClick:function(){return alert("This Path Match!")}},"Matches"),r.a.createElement(de.a,{variant:"contained",className:U.doesnotMatchesButton,startIcon:r.a.createElement(Vt.a,null),onClick:function(){z().length,L()}},"Does Not Match"))))),P&&r.a.createElement(Xt,{handleCloseDialog:function(){q(!1)},path:E}),B&&r.a.createElement(ea,{handleCloseDialog:function(){Q(),R(!1)},task_id:d,evaluator_id:x}))}var aa=a(270),na=a(262),ra=a(263),ca=a(97),oa=a.n(ca),la=a(129),ia=a.n(la),sa=Object(g.a)((function(e){return{container:{padding:e.spacing(0,2),height:"315px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"75px",padding:e.spacing(1)},title:{color:"#474747",fontSize:"24px",fontWeight:"bold"},button:{backgroundColor:"#1DB954",color:"#FFFFFF"},history:{height:"200px"},list:{overflowY:"auto",height:"100%",width:"100%"},footer:{display:"flex",alignItems:"center",height:"40px"},footerContent:{marginLeft:e.spacing(1),color:"#9F9F9F",fontSize:"12px"}}})),ua=function(){var e=sa();return r.a.createElement(xe.a,{className:e.list},[{id:1,data:"Bruno Contreras answered a question about Readiness",date:"3:32 P.M, 17th September, 2020"},{id:2,data:"Bruno Contreras answered a question about Readiness",date:"3:32 P.M, 17th September, 2020"},{id:3,data:"Bruno Contreras answered a question about Readiness",date:"3:32 P.M, 17th September, 2020"},{id:4,data:"Bruno Contreras answered a question about Readiness",date:"3:32 P.M, 17th September, 2020"},{id:5,data:"Bruno Contreras answered a question about Readiness",date:"3:32 P.M, 17th September, 2020"}].map((function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement(Ne.a,{primary:e.data,secondary:e.date}))})))};function ma(){var e=sa();return r.a.createElement(At,{className:e.container},r.a.createElement("div",{className:e.header},r.a.createElement(ve.a,{className:e.title,variant:"body1",component:"h3"},"Evaluation History"),r.a.createElement(de.a,{variant:"contained",className:e.button,endIcon:r.a.createElement(ia.a,null)},"Refresh")),r.a.createElement(Se.a,null),r.a.createElement("div",{className:e.history},r.a.createElement(ua,null)),r.a.createElement(Se.a,null),r.a.createElement("div",{className:e.footer},r.a.createElement(ve.a,{className:e.footerContent,variant:"subtitle2"},"Last refresh at 3:32 P.M, 17th September, 2020")))}var da=Object(g.a)((function(e){return{panel:{padding:e.spacing(2)},pizza:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",padding:e.spacing(3),height:"315px"},pizzaTitle:{fontSize:"24px",fontWeight:"bold",textAlign:"center"},link:{display:"flex",alignItems:"center"},about:{padding:e.spacing(3)}}})),pa=function(e){return r.a.createElement(aa.a,{position:"relative",display:"inline-flex"},r.a.createElement(na.a,Object.assign({size:100,color:"secondary",variant:"static"},e)),r.a.createElement(aa.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(ve.a,{variant:"h5",component:"div",color:"secondary"},"".concat(Math.round(e.value),"%"))))},fa=function(){var e=da();return r.a.createElement(At,{className:e.pizza},r.a.createElement(ve.a,{variant:"body1",component:"h4",color:"secondary",className:e.pizzaTitle},"Completed Tasks"),r.a.createElement(pa,{value:95}),r.a.createElement(ra.a,{className:e.link,component:"button",variant:"body2",onClick:function(){alert("go to tasks")}},"View Tasks",r.a.createElement(oa.a,null)))},ba=function(){var e=da();return r.a.createElement(At,{className:e.pizza},r.a.createElement(ve.a,{variant:"body1",component:"h3",color:"secondary",className:e.pizzaTitle},"Questions Answered"),r.a.createElement(pa,{value:35}),r.a.createElement(ra.a,{className:e.link,component:"button",variant:"body2",onClick:function(){alert("go to questions")}},"View Questions",r.a.createElement(oa.a,null)))};function Ea(){var e=da();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement("div",{className:e.panel},r.a.createElement(ma,null))),r.a.createElement(s.a,{item:!0,sm:3},r.a.createElement("div",{className:e.panel},r.a.createElement(fa,null))),r.a.createElement(s.a,{item:!0,sm:3},r.a.createElement("div",{className:e.panel},r.a.createElement(ba,null)))),r.a.createElement(At,{className:e.about},r.a.createElement(ve.a,{variant:"h5",component:"h5"},"About this evaluation"),r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:6},"Details"),r.a.createElement(s.a,{item:!0,sm:6}))))}var ga=a(130),ha=a.n(ga),va=a(271),ja=a(264),Oa=Object(g.a)((function(e){return{root:{flexGrow:1,height:"45px",fontSize:"18px"}}}));var ya=Object(y.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:40,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return r.a.createElement(va.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("span",null)}}))})),Ca=Object(y.a)((function(e){return{root:{textTransform:"none",color:e.palette.secondary.main,fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}}}))((function(e){return r.a.createElement(ja.a,Object.assign({disableRipple:!0},e))}));function xa(e){var t=e.tabs,a=e.value,n=e.handleChange,c=Oa();return r.a.createElement("div",{className:c.root},r.a.createElement(ya,{centered:!0,value:a,variant:"fullWidth",indicatorColor:"secondary",onChange:function(e,t){return n(t)},"aria-label":"tabs"},t.map((function(e,t){return r.a.createElement(Ca,Object.assign({key:t,label:e},function(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}}(t)))}))))}var wa=Object(g.a)((function(e){return{container:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},title:{color:"#444"},svg:{maxHeight:"350px"},link:{color:e.palette.primary.main,cursor:"pointer","&:hover":{textDecoration:"underline"}},containerRoot:{height:"100%",padding:e.spacing(1)},content:{padding:e.spacing(1),height:"calc(100% - 45px)"}}}));function Na(){var e=Object(n.useContext)(Et),t=Object(l.a)(e.currentAssessmentController,1)[0],a=Object(l.a)(e.viewController,2),c=a[0],o=a[1],i=Object(n.useState)(0),s=Object(l.a)(i,2),u=s[0],m=s[1],d=wa();return t.id?r.a.createElement("div",{className:d.containerRoot},r.a.createElement("div",{className:d.tabs},r.a.createElement(xa,{value:u,handleChange:function(e){m(e)},tabs:["General","Tasks","Questionnaire","View Evaluators"]})),r.a.createElement("div",{className:d.content},function(e){switch(e){case 0:return r.a.createElement(Ea,null);case 1:return r.a.createElement(ta,null);case 2:return r.a.createElement(qt,null);case 3:return r.a.createElement(Tt,null);default:return r.a.createElement(r.a.Fragment,null,"Not Found")}}(u))):r.a.createElement("div",{className:d.container},r.a.createElement(ve.a,{className:d.title,variant:"h4"},"Select a Evaluation on the Left"),r.a.createElement("img",{className:d.svg,src:ha.a,alt:"Select some evaluation"}),r.a.createElement(ve.a,{className:d.link,variant:"subtitle1",onClick:function(){"create"!==c&&o("create")}},"Or Click here to add a New Evaluation"))}var ka=a(131),Sa=Object(n.createContext)();function Ta(e){var t=e.children,a={detailsController:Object(n.useState)({name:"",detail:""}),questionnaireController:Object(n.useState)({}),tasksController:Object(n.useState)([]),userListController:Object(n.useState)([])};return r.a.createElement(Sa.Provider,{value:a},t)}var _a=a(132),Fa=a.n(_a),Aa=a(285),Pa=a(265),qa=a(276),Ia=a(283),Wa=a(133),Da=a.n(Wa),Ba=a(278),Ra=a(56),La=a.n(Ra);function Qa(e){var t=e.onClick,a=e.tooltipText,n=e.primaryText,c=e.secondaryText,o=e.active,l=e.onClicksecondaryAction,i=e.iconSecondaryAction,s=Object(g.a)((function(e){return{paper:{border:"2px solid"+e.palette.primary.main,borderRadius:e.spacing(1),background:o?e.palette.primary.main:"#FFFFFF",margin:e.spacing(1)},name:{fontSize:16,color:o?"#FFFFFF":e.palette.primary.main},detail:{fontSize:12,color:o?"#FFFFFF":e.palette.primary.main},icon:{color:o?"#FFFFFF":e.palette.primary.main}}}))();return r.a.createElement(ze.a,{className:s.paper},r.a.createElement(Bt.a,{title:a||"No details",arrow:!0,placement:"top"},r.a.createElement(we.a,{button:!0,onClick:t},r.a.createElement(Ne.a,{primary:r.a.createElement(ve.a,{className:s.name},n),secondary:r.a.createElement(ve.a,{className:s.detail,noWrap:!0},c)}),l&&r.a.createElement(ke.a,{onClick:l},r.a.createElement(d.a,{className:s.icon,edge:"end"},i)))))}var za=Object(g.a)((function(e){return{button:{outline:"none",width:"100%",fontWeight:"bold",textTransform:"uppercase",border:"1px solid "+e.palette.primary.main,backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,padding:e.spacing(2),borderRadius:e.spacing(1),cursor:"pointer",fontSize:14,transition:"all .3s","&:hover":{backgroundColor:e.palette.primary.contrastText,color:e.palette.primary.main}}}}));function Ma(e){var t=e.children,a=e.className,n=Object(i.a)(e,["children","className"]),c=za();return r.a.createElement("button",Object.assign({className:Object(_t.a)(c.button,a)},n),t)}var Ya=Object(g.a)((function(e){return{textfield:{marginTop:e.spacing(1.5)},header:{margin:0,padding:e.spacing(1,0),display:"flex",justifyContent:"space-between",alignItems:"center"},link:{color:e.palette.primary.main,textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}},loading:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:e.spacing(1.5)}}})),Ha=function(e){var t=e.handleClose,a=e.createEvaluator,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),b=f[0],E=f[1],g=Object(n.useState)([]),h=Object(l.a)(g,2),v=h[0],j=h[1],O=Object(n.useState)([]),y=Object(l.a)(O,2),x=y[0],w=y[1],S=Object(n.useState)([]),_=Object(l.a)(S,2),F=_[0],P=_[1];Object(n.useEffect)((function(){ee().then((function(e){j((function(t){return[].concat(Object(He.a)(t),Object(He.a)(e))}))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Profiles")}))}),[]);var q=function(){var e;(function(){var e=[];return T(i)||e.push("Please enter first and last name"),k(b)||e.push("Please enter a valid address"),P(e),0===e.length})()&&(e={name:i,email:b,profiles_ids:x.map((function(e){return Number(e.id)}))},new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/evaluators/store.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))).then((function(e){a(e),t()})).catch((function(e){Number(e.id)!==W?P([e.detail]):alert("Error on create evaluator")}))},D=Ya();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),q()}},r.a.createElement("div",{className:D.header},r.a.createElement(ve.a,{variant:"body1",noWrap:!0},"Create Evaluator"),r.a.createElement(d.a,{onClick:t},r.a.createElement(he.a,null))),r.a.createElement(N,{open:F.length>0,type:"error"},F.join(", ")),r.a.createElement(ve.a,{className:D.textfield,gutterBottom:!0}," Evaluator Name "),r.a.createElement(u.a,{id:"name_evaluator",label:"Evaluator Name",variant:"outlined",value:i,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&m(t)}}),r.a.createElement(ve.a,{className:D.textfield,gutterBottom:!0}," Evaluator Email "),r.a.createElement(u.a,{id:"email_evaluator",label:"Evaluator Email",variant:"outlined",type:"email",value:b,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&E(t)}}),r.a.createElement(ve.a,{className:D.textfield,gutterBottom:!0}," Profiles "),r.a.createElement(s.a,{container:!0},v.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:4},r.a.createElement(C,{onClick:function(t){return function(e,t){var a=e.target.checked;w(a?function(e){return[].concat(Object(He.a)(e),[t])}:function(e){return e.filter((function(e){return e.id!==t.id}))})}(t,e)}},e.name))}))),r.a.createElement(Ma,{className:D.textfield,type:"submit"},"Create evaluator"))};function Ua(e){var t=e.handleClose,a=e.handleAdd,c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],p=o[1],f=Object(n.useState)({}),b=Object(l.a)(f,2),E=b[0],g=b[1],h=Object(n.useState)([]),v=Object(l.a)(h,2),j=v[0],O=v[1],y=Object(n.useState)(""),C=Object(l.a)(y,2),w=C[0],k=C[1],S=Object(n.useState)(!1),T=Object(l.a)(S,2),_=T[0],F=T[1],A=Object(n.useState)(!1),P=Object(l.a)(A,2),q=P[0],I=P[1];Object(n.useEffect)((function(){w.length<5||U({query:w}).then((function(e){p(e)})).catch((function(e){Number(e.id)!==D&&(Number(e.id)!==W?alert(e.detail):alert("Error on load Designers"))})).finally((function(){F(!1)}))}),[w]);var B=function(){I(!0)},R=Ya();return r.a.createElement(Pe,{handleClose:t,title:"Add Evaluator",submitText:"Add Evaluator",submit:function(){(function(){var e=[];return function(e){return!!e.id}(E)||e.push("Please select some evaluator"),O(e),0===e.length})()&&(a(E),t())},maxWidth:"sm"},r.a.createElement(N,{open:j.length>0,type:"error"},j.join(", ")),r.a.createElement(ve.a,{gutterBottom:!0},"Evaluator ",E.name&&': "'.concat(E.name,'"')),r.a.createElement(u.a,{id:"Evaluator",label:"Evaluator Email / Name",variant:"outlined",value:w,InputProps:{endAdornment:r.a.createElement(m.a,{position:"end"},r.a.createElement(d.a,{onClick:B},r.a.createElement(La.a,null)))},fullWidth:!0,onChange:function(e){var t=e.target.value;F(!0),k(t)}}),_?r.a.createElement("div",{className:R.loading},r.a.createElement(na.a,null),r.a.createElement("span",{className:R.textfield},"Please enter the first 5 characters of the email or name")):i.length>0?r.a.createElement(xe.a,{className:R.textfield},r.a.createElement(s.a,{container:!0},i.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:6},r.a.createElement(Qa,{primaryText:e.name,secondaryText:e.email,tooltipText:e.email,onClick:function(){return function(e){g(e)}(e)},active:e.id===E.id}))})))):r.a.createElement(ve.a,{className:R.textfield},"No evaluators found, type a valid email above or",r.a.createElement("span",{onClick:B,className:R.link}," click here "),"to add a new designer"),r.a.createElement(x.a,{in:q},r.a.createElement(Ha,{handleClose:function(){I(!1)},createEvaluator:function(e){F(!0),k(e.email),g(e)}})))}var Va=function(e){var t=Object(ka.a)({},e);return r.a.createElement("hr",t)},Ga=function(){var e=Object(g.a)((function(e){return{root:{padding:e.spacing(2),width:"80%"},item:{marginTop:e.spacing(1)}}})),t=Object(n.useContext)(Sa).detailsController,a=Object(l.a)(t,2),c=a[0],o=a[1],i=c.name,s=c.detail,m=e();return r.a.createElement("div",{className:m.root},r.a.createElement(u.a,{className:m.item,id:"Name",label:"Name",value:i,required:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&o(Object(_.a)({},c,{name:t}))}}),r.a.createElement(u.a,{className:m.item,id:"Detail",label:"Details",value:s,multiline:!0,rows:"6",fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=300&&o(Object(_.a)({},c,{detail:t}))}}))},Ja=function(){return r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:4},r.a.createElement($a,null)),r.a.createElement(s.a,{item:!0,sm:8},r.a.createElement(Ka,null)))},$a=function(){var e=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),height:350,overflowY:"auto",padding:10},header:{color:"#777"}}})),t=Object(n.useContext)(Sa).questionnaireController,a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useContext)(h).managerController,s=Object(l.a)(i,1)[0],u=Object(n.useState)([]),m=Object(l.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){G({manager_id:Number(s.id)}).then((function(e){p([].concat(Object(He.a)(e.available),Object(He.a)(e.unavailable)))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questionnaires")}))}),[s]);var f=e();return r.a.createElement(xe.a,{className:f.root,component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:f.header},"QUESTIONNAIRE LIST"),r.a.createElement(Va,null),d.map((function(e){return r.a.createElement(Qa,{key:e.id,primaryText:e.name,secondaryText:e.detail,tooltipText:e.detail,onClick:function(){return function(e){c!==e&&o(e)}(e)},active:e===c})})))},Ka=function(){var e=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),height:350,overflowY:"auto",padding:10},header:{color:"#777"}}})),t=Object(n.useContext)(Sa).questionnaireController,a=Object(l.a)(t,1)[0],c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)((function(){a.id&&Z({id:Number(a.id)}).then((function(e){u(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questions")}))}),[a]);var m=e();return r.a.createElement(xe.a,{className:m.root,component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:m.header},"QUESTION LIST"),r.a.createElement(Va,null),r.a.createElement(s.a,{container:!0},i.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:6},r.a.createElement(Qa,{key:e.id,primaryText:e.criterion,secondaryText:e.text,tooltipText:e.text,onClick:function(){}}))}))))},Za=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement(s.a,{container:!0},r.a.createElement(s.a,{item:!0,sm:4},r.a.createElement(Xa,{currentWebsite:a,setWebsite:c})),r.a.createElement(s.a,{item:!0,sm:8},r.a.createElement(tn,{website:a})))},Xa=function(e){var t=e.currentWebsite,a=e.setWebsite,c=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),height:350,overflowY:"auto",padding:10},header:{color:"#777"}}})),o=Object(n.useContext)(h).managerController,i=Object(l.a)(o,1)[0],s=Object(n.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){$({manager_id:Number(i.id)}).then((function(e){d(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Questions")}))}),[i]);var p=c();return r.a.createElement(xe.a,{className:p.root,component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:p.header},"WEBSITE LIST"),r.a.createElement(Va,null),m.map((function(e){return r.a.createElement(Qa,{key:e.id,primaryText:e.name,secondaryText:e.url,tooltipText:e.url,active:t===e,onClick:function(){return function(e){a(e)}(e)}})})))},en=function(e){var t=e.task,a=Object(n.useContext)(Sa).tasksController,c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],p=m[1];return r.a.createElement(s.a,{item:!0,sm:6},r.a.createElement(Qa,{primaryText:t.name,secondaryText:t.detail,tooltipText:t.detail,onClick:function(){d?(i(o.filter((function(e){return e.id!==t.id}))),p(!1)):(i([].concat(Object(He.a)(o),[t])),p(!0))},active:d}))},tn=function(e){var t=e.website,a=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),height:350,overflowY:"auto",padding:10},header:{color:"#777"}}})),c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)((function(){t.id&&K({website_id:Number(t.id)}).then((function(e){u([].concat(Object(He.a)(e.available),Object(He.a)(e.unavailable)))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Tasks")}))}),[t]);var m=a();return r.a.createElement(xe.a,{className:m.root,component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:m.header},"TASK LIST"),r.a.createElement(Va,null),r.a.createElement(s.a,{container:!0},i.map((function(e){return r.a.createElement(en,{key:e.id,task:e})}))))},an=function(){var e=Object(g.a)((function(e){return{root:{width:"80%",marginLeft:e.spacing(2),marginRight:e.spacing(2),height:350,overflowY:"auto",padding:10},chip:{marginTop:e.spacing(1),marginRight:e.spacing(1)},chipAdd:{marginTop:e.spacing(1),marginRight:e.spacing(1),background:"#99FF99"},header:{color:"#777"}}})),t=Object(n.useContext)(Sa).userListController,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),p=d[0],f=d[1],b=Object(l.a)(t,2),E=b[0],h=b[1],v=Object(n.useState)(!1),j=Object(l.a)(v,2),O=j[0],y=j[1],C=function(e,t,a){if(!a)return[].concat(Object(He.a)(e),[Object(_.a)({},t,{profile_ids:[0],count:1/0})]);if(0===e.length)return t.map((function(e){return Object(_.a)({},e,{profile_ids:[a],count:1})}));if(0===t.length)return e;var n=e.map((function(e){return e.id})),r=t.map((function(e){return e.id})),c=e.filter((function(e){return!r.includes(e.id)})),o=t.filter((function(e){return!n.includes(e.id)})),l=e.filter((function(e){return r.includes(e.id)}));return[].concat(Object(He.a)(c),Object(He.a)(o.map((function(e){return Object(_.a)({},e,{profile_ids:[a],count:1})}))),Object(He.a)(l.map((function(e){return Object(_.a)({},e,{profile_ids:[].concat(Object(He.a)(e.profile_ids),[a]),count:e.count+1})}))))};Object(n.useEffect)((function(){ee().then((function(e){f(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Profiles")}))}),[]);var x=function(e){var t;e&&(t=e.id,A.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:X({id:Number(t)}).then((function(e){h(C(E,e,t))})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Evaluators")}));case 1:case"end":return e.stop()}})),i([].concat(Object(He.a)(o),[e])),f(p.filter((function(t){return t.id!==e.id}))))},w=function(e){var t;t=e.id,h(E.map((function(e){return e.profile_ids.includes(t)?Object(_.a)({},e,{count:e.count-1}):e})).filter((function(e){return e.count>0}))),i(o.filter((function(t){return t.id!==e.id}))),f([].concat(Object(He.a)(p),[e]))},N=e();return r.a.createElement("div",{className:N.root},r.a.createElement(Ue.a,{autoHighlight:!0,clearOnEscape:!0,options:p,getOptionLabel:function(e){return e.name},onChange:function(e,t){return x(t)},renderInput:function(e){return r.a.createElement(u.a,Object.assign({},e,{label:"profile name",variant:"outlined"}))}}),o.length>0&&r.a.createElement(xe.a,{component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:N.header},"SELECTED PROFILES"),r.a.createElement(Va,null),r.a.createElement(s.a,{container:!0},o.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:4},r.a.createElement(Qa,{primaryText:e.name,secondaryText:e.detail,tooltipText:e.detail,onClick:function(){return w(e)},onClicksecondaryAction:function(){return w(e)},iconSecondaryAction:r.a.createElement(Vt.a,null),active:!0}))})))),r.a.createElement(xe.a,{component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:N.header},"EVALUATORS LIST"),r.a.createElement(Va,null),r.a.createElement(Ia.a,{className:N.chipAdd,onClick:function(){y(!0)},label:"Add Evaluator",icon:r.a.createElement(Da.a,null)}),E.map((function(e){return r.a.createElement(Ia.a,{key:e.id,color:"primary",className:N.chip,label:e.email,onDelete:function(){return t=e,void h(E.filter((function(e){return e.id!==t.id})));var t}})}))),O&&r.a.createElement(Ua,{handleClose:function(){y(!1)},handleAdd:function(e){E.some((function(t){return t.id===e.id}))||h(C(E,e))}}))},nn=function(){var e=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"100%",height:350,overflowY:"auto",padding:10},header:{color:"#777"},value:{color:"#333"}}})),t=Object(n.useContext)(Sa),a=Object(l.a)(t.detailsController,1)[0],c=Object(l.a)(t.tasksController,1)[0],o=Object(l.a)(t.questionnaireController,1)[0],i=Object(l.a)(t.userListController,1)[0],u=e();return r.a.createElement("div",{className:u.root},r.a.createElement(ve.a,{variant:"body1",align:"center",className:u.header},"INFORMATIONS"),r.a.createElement(ve.a,{className:u.value,variant:"body1",component:"p"},"Name: ",a.name),r.a.createElement(ve.a,{className:u.value,variant:"subtitle1",component:"p"},"Details: ",a.detail),r.a.createElement(Va,null),r.a.createElement(ve.a,{variant:"body1",align:"center",className:u.header},"QUESTIONNAIRE"),r.a.createElement(ve.a,{className:u.value,variant:"body1",component:"p"},"Name: ",o.name),r.a.createElement(ve.a,{className:u.value,variant:"subtitle1",component:"p"},"Details: ",o.detail),r.a.createElement(Va,null),r.a.createElement(xe.a,{component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:u.header},"TASKS"),r.a.createElement(s.a,{container:!0},c.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:4},r.a.createElement(Qa,{primaryText:e.name,secondaryText:e.detail,tooltipText:e.detail,onClick:function(){}}))})))),r.a.createElement(Va,null),r.a.createElement(xe.a,{component:"nav"},r.a.createElement(ve.a,{variant:"body1",align:"center",className:u.header},"EVALUATORS"),r.a.createElement(s.a,{container:!0},i.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:4},r.a.createElement(Qa,{primaryText:e.name,secondaryText:e.email,tooltipText:e.email,onClick:function(){}}))})))))};function rn(){var e,t=Object(g.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(4)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:350,display:"flex",justifyContent:"center"},finalText:{display:"flex",justifyContent:"center"},finalContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:350},image:{display:"block",marginLeft:"auto",marginRight:"auto",width:"50%"},buttons:{display:"flex",alignItems:"space-between",justifyContent:"center"}}})),a=Object(n.useContext)(Et),c=a.viewController,o=a.currentAssessmentController,i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(l.a)(c,2),d=m[0],p=m[1],f=Object(n.useContext)(Sa),b=Object(l.a)(f.detailsController,1)[0],E=Object(l.a)(f.tasksController,1)[0],h=Object(l.a)(f.questionnaireController,1)[0],v=Object(l.a)(f.userListController,1)[0],j=[b.name.length>5,E.length>0,void 0!==h.id,v.length>0],O=Object(n.useState)(0),y=Object(l.a)(O,2),C=y[0],x=y[1],N=["Enter name and details about your evaluation","Choose the tasks to be evaluated","Choose a questionnaire","Choose evaluators","Confimation"],k=function(){x((function(e){return e+1}))},S=Object(n.useState)({open:Boolean(s.id),severity:"warning",message:'Make sure the changes to the evaluation "'.concat(s.name,'" have been saved')}),T=Object(l.a)(S,2),F=T[0],A=T[1],P=function(e,t){A({open:!0,severity:e,message:t})},q=function(){A(Object(_.a)({},F,{open:!1}))},I=t();return r.a.createElement("div",{className:I.root},r.a.createElement(Aa.a,{activeStep:C,alternativeLabel:!0},N.map((function(e){return r.a.createElement(Pa.a,{key:e},r.a.createElement(qa.a,null,e))}))),r.a.createElement(Ba.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,open:F.open,onClose:q},r.a.createElement((function(e){return r.a.createElement(w.a,Object.assign({elevation:6,variant:"filled"},e))}),{onClose:q,severity:F.severity},F.message)),r.a.createElement("div",null,C===N.length?r.a.createElement("div",null,r.a.createElement("div",{className:I.finalContainer},r.a.createElement("img",{className:I.image,src:Fa.a,alt:"All steps have been completed!"}),r.a.createElement(ve.a,{className:I.finalText,variant:"h5"},"All steps have been completed!")),r.a.createElement("div",{className:I.buttons},r.a.createElement(de.a,{onClick:function(){"create"===d&&p("show")}},"View Assessments"))):r.a.createElement("div",null,r.a.createElement("div",{className:I.instructions},function(e){switch(e){case 0:return r.a.createElement(Ga,null);case 1:return r.a.createElement(Za,null);case 2:return r.a.createElement(Ja,null);case 3:return r.a.createElement(an,null);case 4:return r.a.createElement(nn,null);default:return"Unknown stepIndex"}}(C)),r.a.createElement("div",{className:I.buttons},r.a.createElement(de.a,{disabled:0===C,color:"primary",onClick:function(){x((function(e){return e-1}))},className:I.backButton},"Back"),C<N.length-1?r.a.createElement(de.a,{disabled:(e=C,!j[e]),variant:"contained",color:"secondary",onClick:k},"Next"):r.a.createElement(de.a,{variant:"contained",color:"secondary",onClick:function(){L({name:b.name,detail:b.detail,questionnaire_id:Number(h.id),tasks_id:E.map((function(e){return Number(e.id)})),evaluators_id:v.map((function(e){return Number(e.id)}))}).then((function(e){u(e),P("success","You have successfully created the Evaluation!")})).catch((function(e){Number(e.id)!==W?P("error",e.detail):P("error","The Evaluation was not created")})).finally((function(){k()}))}},"Confirm")))))}function cn(){var e=Object(n.useContext)(Et).viewController,t=Object(l.a)(e,1)[0];return{show:r.a.createElement(Na,null),create:r.a.createElement(Ta,null,r.a.createElement(rn,null))}[t]}function on(e){var t=e.classes;return r.a.createElement(gt,null,r.a.createElement("div",{className:t.list},r.a.createElement(jt,null)),r.a.createElement("div",{className:t.content},r.a.createElement(cn,null)))}var ln=Object(n.createContext)();function sn(e){var t=e.children,a={websiteController:Object(n.useState)({})};return r.a.createElement(ln.Provider,{value:a},t)}var un=Object(g.a)((function(e){return{textfield:{marginTop:e.spacing(1.5)},header:{margin:0,padding:e.spacing(1,0),display:"flex",justifyContent:"space-between",alignItems:"center"},link:{color:e.palette.primary.main,textDecoration:"none",cursor:"pointer","&:hover":{textDecoration:"underline"}},loading:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:e.spacing(1.5)}}})),mn=function(e){var t=e.handleClose,a=e.createDesigner,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),f=p[0],b=p[1],E=Object(n.useState)([]),g=Object(l.a)(E,2),h=g[0],v=g[1],j=function(){var e;(function(){var e=[];return T(i)||e.push("Please enter first and last name"),k(f)||e.push("Please enter a valid address"),v(e),0===e.length})()&&(e={name:i,email:f},new Promise((function(t,a){var n,r;return A.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,A.a.awrap(I.post("/designers/store.php",e));case 2:n=c.sent,(r=n.data).status===B?t(r.docs):a(r.docs);case 5:case"end":return c.stop()}}))}))).then((function(e){a(e)})).catch((function(e){Number(e.id)!==W?v([e.detail]):alert("Error on load Profiles")}))},O=un();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j()}},r.a.createElement("div",{className:O.header},r.a.createElement(ve.a,{variant:"body1",noWrap:!0},"Create Designer"),r.a.createElement(d.a,{onClick:t},r.a.createElement(he.a,null))),r.a.createElement(N,{open:h.length>0,type:"error"},h.join(", ")),r.a.createElement(ve.a,{className:O.textfield,gutterBottom:!0}," Designer Name "),r.a.createElement(u.a,{id:"name_designer",label:"Designer Name",variant:"outlined",value:i,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&s(t)}}),r.a.createElement(ve.a,{className:O.textfield,gutterBottom:!0}," Designer Email "),r.a.createElement(u.a,{id:"email_designer",label:"Designer Email",variant:"outlined",type:"email",value:f,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&b(t)}}),r.a.createElement(Ma,{className:O.textfield,type:"submit"},"Create Designer"))};function dn(e){var t=e.handleClose,a=Object(n.useContext)(ln).websiteController,c=Object(l.a)(a,2),o=c[0],i=c[1],p=Object(n.useContext)(h).managerController,f=Object(l.a)(p,1)[0],b=Object(n.useState)(""),E=Object(l.a)(b,2),g=E[0],v=E[1],j=Object(n.useState)(""),O=Object(l.a)(j,2),y=O[0],C=O[1],w=Object(n.useState)([]),k=Object(l.a)(w,2),T=k[0],_=k[1],F=Object(n.useState)({}),A=Object(l.a)(F,2),P=A[0],q=A[1],I=Object(n.useState)([]),B=Object(l.a)(I,2),R=B[0],L=B[1],Q=Object(n.useState)(""),M=Object(l.a)(Q,2),Y=M[0],H=M[1],U=Object(n.useState)(!1),G=Object(l.a)(U,2),J=G[0],$=G[1],K=Object(n.useState)(!1),Z=Object(l.a)(K,2),X=Z[0],ee=Z[1],te=function(){ee(!0)},ae=function(){ee(!1)};Object(n.useEffect)((function(){Y.length<5||V({query:Y}).then((function(e){_(e)})).catch((function(e){Number(e.id)!==D&&(Number(e.id)!==W?alert(e.detail):alert("Error on load Designers"))})).finally((function(){$(!1)}))}),[Y]);var ne=un();return r.a.createElement(Pe,{title:"Add Website",submitText:"Add Website",handleClose:t,submit:function(){(function(){var e=[];return function(e){return e.length>=3}(g)||e.push("Please enter a name with at least 3 characters"),S(y)||e.push("Please enter a valid address"),function(e){return!!e.id}(P)||e.push("Please select a designer"),L(e),0===e.length})()&&z({name:g,url:y,designer_id:Number(P.id),manager_id:Number(f.id)}).then((function(e){i(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on store website")})).finally((function(){t()}))},maxWidth:"sm"},r.a.createElement(N,{open:o.id,type:"warning"},'Make sure the changes to the website "',o.name,'" have been saved'),r.a.createElement(N,{open:R.length>0,type:"error"},R.join(", ")),r.a.createElement(ve.a,{className:ne.textfield,gutterBottom:!0}," Website Name "),r.a.createElement(u.a,{id:"name_website",label:"ex: USP website",variant:"outlined",value:g,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&v(t)}}),r.a.createElement(ve.a,{className:ne.textfield,gutterBottom:!0}," Website address "),r.a.createElement(u.a,{id:"url_website",label:"ex: https://www5.usp.br",variant:"outlined",type:"url",value:y,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&C(t)}}),r.a.createElement(ve.a,{className:ne.textfield,gutterBottom:!0},"Designer",P.name&&': "'.concat(P.name,'"')),r.a.createElement(u.a,{id:"designer",label:"Designer Email / Name",variant:"outlined",value:Y,InputProps:{endAdornment:r.a.createElement(m.a,{position:"end"},r.a.createElement(d.a,{onClick:te},r.a.createElement(La.a,null)))},fullWidth:!0,onChange:function(e){var t=e.target.value;$(!0),H(t)}}),J?r.a.createElement("div",{className:ne.loading},r.a.createElement(na.a,null),r.a.createElement("span",{className:ne.textfield},"Please enter the first 5 characters of the email or name")):T.length>0?r.a.createElement(xe.a,{className:ne.textfield},r.a.createElement(s.a,{container:!0},T.map((function(e){return r.a.createElement(s.a,{key:e.id,item:!0,sm:6},r.a.createElement(Qa,{primaryText:e.name,secondaryText:e.email,tooltipText:e.email,onClick:function(){return function(e){q(e)}(e)},active:e.id===P.id}))})))):r.a.createElement(ve.a,{className:ne.textfield},"No designers found, type a valid email above or",r.a.createElement("span",{onClick:te,className:ne.link}," click here "),"to add a new designer"),X&&r.a.createElement(Se.a,null),r.a.createElement(x.a,{in:X},r.a.createElement(mn,{handleClose:ae,createDesigner:function(e){$(!0),H(e.email),q(e),ae()}})))}var pn=function(e){var t=e.website,a=Object(n.useContext)(ln).websiteController,c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement(we.a,{button:!0,onClick:function(){i(t)},selected:t.id===o.id},r.a.createElement(Ne.a,{primary:t.name,secondary:t.url}))},fn=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){c(!0)};return r.a.createElement("div",null,r.a.createElement(we.a,{button:!0,onClick:o},r.a.createElement(Ne.a,{primary:"Add new website",secondary:"Click here to add a new website"}),r.a.createElement(ke.a,null,r.a.createElement(d.a,{edge:"end",onClick:o},r.a.createElement(Te.a,null)))),a&&r.a.createElement(dn,{handleClose:function(){c(!1)}}))};function bn(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(ln).websiteController,i=Object(l.a)(o,1)[0],s=Object(n.useContext)(h).managerController,u=Object(l.a)(s,1)[0];return Object(n.useEffect)((function(){$({manager_id:Number(u.id)}).then((function(e){c(e)})).catch((function(e){Number(e.id)!==W?alert(e.detail):alert("Error on load Websites")}))}),[i,u]),r.a.createElement(xe.a,{component:"div",style:{height:"100%"}},r.a.createElement(fn,null),a.map((function(e){return r.a.createElement(pn,{key:e.id,website:e,button:!0})})))}var En=Object(n.createContext)();function gn(e){var t=e.children,a={taskController:Object(n.useState)({}),pagesController:Object(n.useState)([]),newPageAddController:Object(n.useState)(!1),newTaskAddController:Object(n.useState)(!1)};return r.a.createElement(En.Provider,{value:a},t)}var hn=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(i.a)(e,["children","classes","onClose"]);return r.a.createElement(fe.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(ve.a,{variant:"h6"},t),n?r.a.createElement(d.a,{className:a.closeButton,onClick:n},r.a.createElement(he.a,null)):null)})),vn=Object(y.a)((function(e){return{root:{padding:e.spacing(2)}}}))(be.a),jn=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ee.a);function On(e){var t=e.open,a=e.handleClose,c=Object(n.useContext)(ln).websiteController,o=Object(l.a)(c,1)[0],i=Object(n.useContext)(En).newPageAddController,s=Object(l.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),b=f[0],E=f[1],g=Object(n.useState)("/"),h=Object(l.a)(g,2),v=h[0],j=h[1],O=Object(n.useState)([]),y=Object(l.a)(O,2),C=y[0],N=y[1],k=Object(n.useState)([]),S=Object(l.a)(k,2),T=S[0],_=S[1],F=Object(n.useState)([]),P=Object(l.a)(F,2),q=P[0],W=P[1];Object(n.useEffect)((function(){!function(){var e,t;A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(I.post("/elements/index.php"));case 2:e=a.sent,"success"===(t=e.data).status?_(t.docs):alert("Error on load elements");case 5:case"end":return a.stop()}}))}()}),[]);return r.a.createElement(pe.a,{onClose:a,open:t,fullWidth:!0},r.a.createElement(hn,{onClose:a},"Add Page"),r.a.createElement(vn,{dividers:!0},r.a.createElement(x.a,{in:q.length>0},r.a.createElement(w.a,{variant:"filled",severity:"error"},q.join(", "))),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Page Name "),r.a.createElement(u.a,{id:"name",label:"ex: home page",variant:"outlined",value:b,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&E(t)}}),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0},"Page address ","/"===v[0]&&'"'.concat(o.url).concat(v,'"')),r.a.createElement(u.a,{id:"url",label:"ex: /home",variant:"outlined",type:"url",value:v,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=150&&j(t)}}),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0},"Interaction Elements"),r.a.createElement(Ue.a,{autoHighlight:!0,clearOnEscape:!0,options:T,getOptionLabel:function(e){return e.name},onChange:function(e,t){var a;(a=t)&&N([].concat(Object(He.a)(C),[a]))},style:{width:"100%"},renderInput:function(e){return r.a.createElement(u.a,Object.assign({},e,{label:"Element name",variant:"outlined"}))}}),C.map((function(e,t){return r.a.createElement(Ia.a,{key:t,color:"primary",style:{marginTop:10,marginRight:5},label:e.name,onDelete:function(){return function(e){N(C.filter((function(t,a){return e!==a})))}(t)}})}))),r.a.createElement(jn,null,r.a.createElement(de.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(de.a,{autoFocus:!0,color:"primary",onClick:function(){(function(){var e=[];return function(e){return e.length>=3}(b)||e.push("Please enter a name with at least 3 characters"),function(e){return e.length<=5}(C)||e.push("Select up to 5 elements"),W(e),0===e.length})()&&(!function(){var e;A.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.awrap(I.post("/pages/store.php",{name:b,url:v,website_id:Number(o.id),elements_id:C.map((function(e){return Number(e.id)}))}));case 2:e=t.sent,"success"===e.data.status?m||d(!0):alert("Error on create page");case 5:case"end":return t.stop()}}))}(),a(),E(""),j(""),N([]))}},"Add Page")))}var yn=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,c=Object(i.a)(e,["children","classes","onClose"]);return r.a.createElement(fe.a,Object.assign({disableTypography:!0,className:a.root},c),r.a.createElement(ve.a,{variant:"h6"},t),n?r.a.createElement(d.a,{className:a.closeButton,onClick:n},r.a.createElement(he.a,null)):null)})),Cn=Object(y.a)((function(e){return{root:{padding:e.spacing(2)}}}))(be.a),xn=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Ee.a);function wn(e){var t=e.open,a=e.handleClose,c=Object(n.useContext)(En).taskController,o=Object(l.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(l.a)(b,2),g=E[0],h=E[1],v=Object(n.useState)([]),j=Object(l.a)(v,2),O=j[0],y=j[1];return r.a.createElement(pe.a,{onClose:a,open:t,fullWidth:!0},r.a.createElement(yn,{onClose:a},"Create Task"),r.a.createElement(Cn,{dividers:!0},r.a.createElement(w.a,{variant:"filled",severity:"info",style:{marginBottom:10}},'This task will only be saved when at least one page is added, and clicking the "Save Task" button'),!i.id&&i.name&&r.a.createElement(w.a,{variant:"filled",severity:"warning",style:{marginBottom:10}},'The task "',i.name,'" has not yet been saved'),r.a.createElement(x.a,{in:O.length>0},r.a.createElement(w.a,{variant:"filled",severity:"error"},O.join(", "))),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Task Name "),r.a.createElement(u.a,{id:"name",label:"ex: Buy bread",variant:"outlined",value:p,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=100&&f(t)}}),r.a.createElement(ve.a,{style:{marginTop:10},gutterBottom:!0}," Task Detail "),r.a.createElement(u.a,{id:"detail",label:"Details",variant:"outlined",multiline:!0,value:g,fullWidth:!0,onChange:function(e){var t=e.target.value;t.length<=300&&h(t)}})),r.a.createElement(xn,null,r.a.createElement(de.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(de.a,{autoFocus:!0,color:"primary",onClick:function(){(function(){var e=[];return function(e){return e.length>=3}(p)||e.push("Please enter a name with at least 3 characters"),y(e),0===e.length})()&&(s({name:p,detail:g}),a(),f(""),h(""))}},"Create Task")))}var Nn=a(134),kn=a.n(Nn),Sn=a(135),Tn=a.n(Sn),_n=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){c(!0)};return r.a.createElement(ze.a,{style:{background:"#9f9"}},r.a.createElement(we.a,{button:!0,onClick:o},r.a.createElement(Ne.a,{primary:"Add new task",secondary:"Click here to add a new task"}),r.a.createElement(ke.a,{onClick:o},r.a.createElement(d.a,{edge:"end"},r.a.createElement(La.a,{fontSize:"large",style:{color:"green"}})))),r.a.createElement(wn,{open:a,handleClose:function(){c(!1)}}))},Fn=function(e){var t=e.task,a=Object(n.useContext)(En).taskController,c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement(ze.a,{style:{marginTop:10,background:"linear-gradient(45deg, #2196F3 90%, #21CBF3 30%)"}},r.a.createElement(we.a,{button:!0,selected:o===t,onClick:function(){return i(t)}},r.a.createElement(Bt.a,{title:"Add task in the constructor",arrow:!0,placement:"top"},r.a.createElement(Ne.a,{primary:r.a.createElement(ve.a,{style:{color:"#FFF"}},t.name),secondary:r.a.createElement(ve.a,{variant:"subtitle2",style:{color:"#EEE"}},t.detail)}))))},An=function(e){var t=e.task;return r.a.createElement(ze.a,{style:{marginTop:10,background:"#ddd"}},r.a.createElement(we.a,{disabled:!0,onClick:function(){return alert(t.id)}},r.a.createElement(Bt.a,{title:"This task is used by some assessment",arrow:!0,placement:"top"},r.a.createElement(Ne.a,{primary:t.name,secondary:t.detail}))))},Pn=function(e){var t=e.website,a=Object(n.useContext)(En).newTaskAddController,c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(l.a)(p,2),b=f[0],E=f[1],g=Object(n.useCallback)((function(){K({website_id:Number(t.id)}).then((function(e){d(e.available),E(e.unavailable)})).catch((function(e){console.log(e),Number(e.id)!==W?alert(e.detail):alert("Error on load Tasks")}))}),[t]);return Object(n.useEffect)((function(){g()}),[g]),Object(n.useEffect)((function(){o&&(g(),i(!1))}),[o,g,i]),r.a.createElement(xe.a,{component:"div"},r.a.createElement(ve.a,{variant:"body1",align:"center",style:{color:"#777"}},"TASK LIST"),r.a.createElement(Se.a,null),r.a.createElement(_n,null),m.map((function(e){return r.a.createElement(Fn,{key:e.id,task:e})})),b.length>0&&r.a.createElement("div",null,r.a.createElement(Se.a,null),r.a.createElement(ve.a,null,"Read-Only Region"),b.map((function(e){return r.a.createElement(An,{key:e.id,task:e})}))))},qn=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=function(){c(!0)};return r.a.createElement(ze.a,{style:{background:"#9f9"}},r.a.createElement(we.a,{button:!0,onClick:o},r.a.createElement(Ne.a,{primary:"Add new page",secondary:"Click here to add a new page"}),r.a.createElement(ke.a,{onClick:o},r.a.createElement(d.a,{edge:"end"},r.a.createElement(La.a,{fontSize:"large",style:{color:"green"}})))),r.a.createElement(On,{open:a,handleClose:function(){c(!1)}}))},In=function(e){var t=e.page,a=Object(n.useContext)(En).pagesController,c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement(ze.a,{style:{marginTop:10,background:"linear-gradient(45deg, #21CBF3 90%, #2196F3 30%)"}},r.a.createElement(we.a,{button:!0,onClick:function(){i([].concat(Object(He.a)(o),[t]))}},r.a.createElement(Bt.a,{title:"Add page in the constructor",arrow:!0,placement:"top"},r.a.createElement(Ne.a,{primary:r.a.createElement(ve.a,{style:{color:"#fff"}},t.name),secondary:r.a.createElement(ve.a,{style:{color:"#fff"}},t.url)}))))},Wn=function(e){var t=e.website,a=Object(n.useContext)(En).newPageAddController,c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1],p=function(e){var t,a;return A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.awrap(I.post("/websites/pages.php",{id:Number(e)}));case 2:t=n.sent,"success"===(a=t.data).status?d(a.docs):alert("Error on load pages");case 5:case"end":return n.stop()}}))};return Object(n.useEffect)((function(){t.id&&p(t.id)}),[t]),Object(n.useEffect)((function(){o&&t.id&&(p(t.id),i(!1))}),[o,t,i]),r.a.createElement(xe.a,{component:"div",style:{padding:10,height:635,overflowY:"auto"}},r.a.createElement(ve.a,{variant:"body1",align:"center",style:{color:"#777"}},"PAGE LIST"),r.a.createElement(Se.a,null),r.a.createElement(qn,null),m.map((function(e){return r.a.createElement(In,{key:e.id,page:e})})))},Dn=function(e){var t=e.task;return r.a.createElement(ze.a,{style:{background:"#9f9"}},r.a.createElement(we.a,{button:!0,onClick:function(){}},r.a.createElement(Ne.a,{primary:t.name,secondary:"The sequence of pages below represents the route of this task"}),r.a.createElement(ke.a,{onClick:function(){return alert("edit task")}},r.a.createElement(d.a,{edge:"end"},r.a.createElement(kn.a,{style:{color:"grey"}})))))},Bn=function(e){var t=e.page,a=e.index,c=Object(n.useContext)(En).pagesController,o=Object(l.a)(c,2),i=o[0],s=o[1];return r.a.createElement(ze.a,{style:{marginTop:10,background:"linear-gradient(45deg, #21CBF3 90%, #99FF99 30%)"}},r.a.createElement(we.a,{button:!0},r.a.createElement(Ne.a,{primary:r.a.createElement(ve.a,{style:{color:"white"}},t.name),secondary:r.a.createElement(ve.a,{style:{color:"white"}},t.url)}),r.a.createElement(Bt.a,{title:"Click to remove this page from task",arrow:!0,placement:"top"},r.a.createElement(ke.a,{onClick:function(){var e=i.filter((function(e,t){return a!==t}));s(e)}},r.a.createElement(d.a,{edge:"end"},r.a.createElement(Tn.a,{style:{color:"#FFF"}}))))))},Rn=function(){var e=Object(n.useContext)(ln).websiteController,t=Object(l.a)(e,1)[0],a=Object(n.useContext)(En),c=a.pagesController,o=a.taskController,i=a.newTaskAddController,s=Object(l.a)(c,2),u=s[0],m=s[1],d=Object(l.a)(i,2),p=d[0],f=d[1],b=Object(l.a)(o,2),E=b[0],g=b[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),j=v[0],O=v[1];return Object(n.useEffect)((function(){u.length>0&&m([]),E.name&&g({})}),[t]),Object(n.useEffect)((function(){if(E.id){!function(e){var t,a;A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.awrap(I.post("/tasks/pages.php",{id:Number(e)}));case 2:t=n.sent,"success"===(a=t.data).status?m(a.docs):alert("Error on load pages task");case 5:case"end":return n.stop()}}))}(E.id)}else m([])}),[m,E]),r.a.createElement(xe.a,{component:"div",style:{padding:10,height:635,overflowY:"auto"}},r.a.createElement(ve.a,{variant:"body1",align:"center",style:{color:"#777"}},"CONSTRUCTOR"),r.a.createElement(Se.a,null),E.name?r.a.createElement("div",null,r.a.createElement(Dn,{task:E}),u.map((function(e,t){return r.a.createElement(Bn,{key:t,page:e,index:t})})),E.id?r.a.createElement(de.a,{fullWidth:!0,onClick:function(){!function(e){var t;A.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.awrap(I.post("/tasks/sync.php",{id:Number(E.id),pages:e}));case 2:t=a.sent,"success"===t.data.status?alert("Successfully saved!"):alert("Error on save task");case 5:case"end":return a.stop()}}))}(u.map((function(e){return Number(e.id)})))},disabled:0===u.length,style:{marginTop:10,background:0===u.length?"#DDD":"linear-gradient(45deg, #77EE77 30%, #99EE99 90%)",color:0===u.length?"#000":"#333"}},"Save Task"):r.a.createElement(de.a,{fullWidth:!0,onClick:function(){u.length>0&&function(e){var t,a;A.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.a.awrap(I.post("/tasks/store.php",e));case 2:t=n.sent,"success"===(a=t.data).status?p||(f(!0),g(Object(_.a)({},E,{id:Number(a.docs.id)}))):alert("Error on create task");case 5:case"end":return n.stop()}}))}({name:E.name,detail:E.detail,pages:u.map((function(e){return Number(e.id)}))})},disabled:0===u.length,style:{marginTop:10,background:0===u.length?"#DDD":"linear-gradient(45deg, #77EE77 30%, #99EE99 90%)",color:0===u.length?"#000":"#333"}},"Create Task"),0===u.length&&r.a.createElement("div",null,r.a.createElement(Se.a,null),r.a.createElement(ve.a,{align:"center",style:{color:"#999"}},"Select any page on the middle to save this task"))):r.a.createElement("div",null,r.a.createElement(ve.a,{align:"center",style:{color:"#999"}},"Select any task on the left to edit your route"),r.a.createElement(ve.a,{variant:"subtitle2",align:"center",onClick:function(){O(!0)},style:{color:"#88f",cursor:"pointer"}},"Click here to create a new task"),r.a.createElement(wn,{open:j,handleClose:function(){O(!1)}})))};function Ln(){var e=Object(g.a)((function(e){return{container:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},title:{color:"#444"},svg:{maxHeight:"350px"},link:{color:e.palette.primary.main,cursor:"pointer","&:hover":{textDecoration:"underline"}},gridContainer:{height:"100%"},gridItem:{height:"100%"},paper:{height:"calc(100vh - 70px)",overflowY:"auto",borderRight:"1px solid lightgrey",borderBottom:"4px solid transparent",padding:e.spacing(1)}}})),t=Object(n.useContext)(ln).websiteController,a=Object(l.a)(t,1)[0],c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],m=e();return a.id?r.a.createElement(gn,null,r.a.createElement(s.a,{className:m.gridContainer,container:!0},r.a.createElement(s.a,{className:m.gridItem,sm:!0,item:!0},r.a.createElement("div",{className:m.paper,style:{borderBottomColor:"blueviolet"}},r.a.createElement(Pn,{website:a}))),r.a.createElement(s.a,{className:m.gridItem,sm:!0,item:!0},r.a.createElement("div",{className:m.paper,style:{borderBottomColor:"blue"}},r.a.createElement(Wn,{website:a}))),r.a.createElement(s.a,{className:m.gridItem,sm:!0,item:!0},r.a.createElement("div",{className:m.paper,style:{borderBottomColor:"yellow"}},r.a.createElement(Rn,null))))):r.a.createElement("div",{className:m.container},r.a.createElement(ve.a,{className:m.title,variant:"h4"},"Select a website on the Left"),r.a.createElement("img",{className:m.svg,src:Le.a,alt:"Select some website"}),r.a.createElement(ve.a,{className:m.link,variant:"subtitle1",onClick:function(){u(!0)}},"Or Click here to add a New Website"),i&&r.a.createElement(dn,{handleClose:function(){u(!1)}}))}function Qn(e){var t=e.classes;return r.a.createElement(sn,null,r.a.createElement("div",{className:t.list},r.a.createElement(bn,null)),r.a.createElement("div",{className:t.content},r.a.createElement(Ln,null)))}var zn=a(266),Mn=a(267),Yn=a(137);function Hn(e){var t=e.setPage,a=Object(g.a)((function(e){return{root:{gridArea:"HE",flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},AppBar:{background:e.palette.primary,height:"100%",display:"flex",justifyContent:"center"}}})),c=Object(n.useContext)(h).managerController,o=Object(l.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(null),m=Object(l.a)(u,2),d=m[0],p=m[1],f=function(){p(null)},b=a();return r.a.createElement("div",{className:b.root},r.a.createElement(zn.a,{position:"static",className:b.AppBar},r.a.createElement(Mn.a,null,r.a.createElement(ve.a,{variant:"h6",className:b.title},"Co-Inspect Tool"),r.a.createElement(de.a,{color:"inherit",onClick:function(){return t("WebsitesPage")}},"Websites"),r.a.createElement(de.a,{color:"inherit",onClick:function(){return t("QuestionnairePage")}},"Questionnaires"),r.a.createElement(de.a,{color:"inherit",onClick:function(){return t("EvaluationManagerPage")}},"Evaluations"),r.a.createElement(de.a,{color:"inherit",onClick:function(e){p(e.currentTarget)}},r.a.createElement(ve.a,{noWrap:!0,style:{maxWidth:"24ch"}},i.name)),r.a.createElement(Yn.a,{keepMounted:!0,anchorEl:d,open:Boolean(d),onClose:f},r.a.createElement(Je.a,{onClick:function(){alert("WIP"),f()}},"Profile"),r.a.createElement(Je.a,{onClick:function(){alert("WIP"),f()}},"My account"),r.a.createElement(Je.a,{onClick:function(){localStorage.removeItem("manager_data"),s({}),f()}},"Logout")))))}var Un=Object(g.a)((function(e){return{container:{height:"100%",display:"grid",gridTemplateColumns:"300px auto",gridTemplateRows:"70px auto",gridTemplateAreas:"\n      'HE HE'\n      'LI CO' \n    "},list:{gridArea:"LI",overflowY:"auto",borderRight:"1px solid lightgrey",height:"calc(100vh - 70px)"},content:{gridArea:"CO",height:"calc(100vh - 70px)"}}}));function Vn(){var e=Object(n.useContext)(h).managerController,t=Object(l.a)(e,1)[0],a=Object(n.useState)("EvaluationManagerPage"),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Un();return r.a.createElement(r.a.Fragment,null,t.id?r.a.createElement("div",{className:s.container},r.a.createElement(Hn,{setPage:i}),function(e){switch(e){case"QuestionnairePage":return r.a.createElement(bt,{classes:s});case"EvaluationManagerPage":return r.a.createElement(on,{classes:s});case"WebsitesPage":return r.a.createElement(Qn,{classes:s});default:return r.a.createElement("div",null,"404 page not found")}}(o)):r.a.createElement(se,null))}var Gn=a(269),Jn=a(136),$n=a(268),Kn=a(89),Zn=(a(187),Object(Jn.a)({palette:{primary:{main:"#22ACF0",contrastText:"#FFFFFF"},secondary:Kn.a,link:{blue:"#88F"},save:{main:"#99EE99",contrastText:"#333333"},duplicate:{main:"#EDED66",contrastText:"#333333"},remove:{main:"#EE6666",contrastText:"#333333"}},typography:{fontFamily:["Roboto"]}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement($n.a,{theme:Zn},r.a.createElement(v,null,r.a.createElement(Gn.a,null),r.a.createElement(Vn,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a.p+"static/media/select_website.e95c4387.svg"}},[[156,1,2]]]);
//# sourceMappingURL=main.fd4844be.chunk.js.map